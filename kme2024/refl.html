<!doctype html>
<html>
<head>
<style>
html{
	height:100%;
	width:100%;
}
body{
  width: 100%;
  height: 100%;
  display:table;
  margin:0px;
  text-align: center;
}
div.content{
  width: 100%;
  height: 100%;
	display:table-cell;
	background:black;
	color: white;
	font-size: 18px;
	vertical-align: middle;
	text-align: center;
}
canvas{
max-height: 75%;
max-width:75%;
margin: auto;
}
#sourceImage{
	display: none;
}
img {
width: 600px;
}
</style>
<script src='spork.js'></script>
<script src='rancomp.js'></script>
<script src='reflection.js'></script>
<script>
function bump(x,y){
	var r=max(0,2/(1+pow(x,8)+pow(y,8))-1);
	return(1);
	return(r);
}
var NUMIMAGES=50;
var counter=0;
WIDTH=500;
function setup(){
	size(WIDTH,WIDTH);
	getColors(sourceImage); console.log('got source colors');	
	RNGSEED=floor(random()*1000000);
	random=RNG;
	timestep(1000);
	loop();
  }
function onclick(){draw()};

function draw(){
depth=3+floor(random()*5);
	var r=generateImage();
//	canvasToNewImg();
//	console.log(counter+' to '+NUMIMAGES);
//	if (counter++>=NUMIMAGES) stoploop();
}
</script>
</head>
<body>
<div class='content'>
<div id='spork'></div> 
</div>
<img src='png/JBE.jpg' id='sourceImage'>
<hr>
</body>
</html>