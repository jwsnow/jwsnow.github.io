<!doctype html>
<html>
<head>
<style>
body{
	margin: 0px;
}
div.pad{
	height: 50px;
	background: lightgray;
}
div.tabbar{
	position:fixed;
	top:0px;
	left:0px;
	right:0px;
	background: gray;
	border-bottom: 1px solid black;
	//padding:0px;
	height: 40px;
	line-height:40px;
	padding-left: 20px;
	z-index: 20;
}
div.pageMenu{
	background: lightgray;
	border-bottom: 1px solid black;
	//padding-top: 50px;
	padding-top: 10px;
	padding-left: 40px;
	padding-bottom: 10px;
}
div.subPage{
	padding-left:20px;
}
div.content{
		//padding-top: 50px;
}	
textarea.datalist{
	resize: none;
	wrap: off;
	  line-height: 25px;
	  background-image: linear-gradient(transparent, transparent 24px, #000000 0px);
	  background-size: 100% 25px;
  }
textarea.datalabel{
	resize: none;
	font-weight: bold;
	scroll: none;
	overflow: hidden;
	width: 12ch;
}
div.pageDiv{
	display: none;
}
div.expandable{
	display: none;
}	
table.summaryTable td{
	width: 10ch;
}
button.expander{
	cursor: pointer;
}
div.histoDiv{
	display: none;
}
table.summaryTable{
	margin-top: 10px;
	margin-bottom: 10px;
}
li button.expander{
	background: none;
	border: none;
	font-weight: bold;
	font-size: 1em;
}
button{
	margin-top: 2px;
	margin-bottom: 2px;
}
div.answerDiv{
	display: none;
}
</style>
<script>
var numLists=10;
var list=[];
var listLabel=['List 0', 'List 1', 'List 2', 'List 3', 'List 4', 'List 5', 'List 6', 'List 7', 'List 8', 'List 9' ];
var listLabelTextArea, listTextArea;
var sumRow, sumList, sumN, sumMean, sumS, sumS2;
var sumMin, sumQ1, sumQ2, sumQ3, sumMax, sumSum, sumRange;
var listN=[], listM=[], listS=[], listS2=[], listMin=[], listQ1=[], listQ2=[], listQ3=[], listMax=[], listSum=[], listRange=[];
var histoDivs, histoLabels, histoCanvases;
var geninputradios, geninputlabels;
var genoutputradios, genoutputlabels;
var canoutputradios, canoutputlabels;
var boxcheckboxes, boxlabels;
var scatterxradios, scatterxlabels;
var scatteryradios, scatterylabels;
var intervalradios, intervallabels;
var meantestradios, meantestlabels;

var theColors=[
'rgba(0,0,0)',
'rgba(255,0,0)',
'rgba(0,255,0)',
'rgba(0,0,255)',
'rgba(128,128,0)',
'rgba(255,0,255)',
'rgba(0,255,255)',
'rgba(255,128,0)',
'rgba(255,0,128)',
'rgba(128,255,0)',
'rgba(0,255,128)',
];

var allRadioNames=[];
var allLabelNames=[];
var allExpandables;
var printPrecision=6;
//Random stuff-------------------------------------------------------
var RNGMOD=Math.pow(2,32);
var RNGSEED=0;

function RNG(){
	RNGSEED=(RNGSEED*1664525 + 1013904223)%RNGMOD;
  	return(RNGSEED/RNGMOD);
}
//----------------------------------------------------------------------------
function cacheMath(){
	var aMathFunctions = Object.getOwnPropertyNames(Math);

	for (var i in aMathFunctions){
		window[aMathFunctions[i]] = Math[aMathFunctions[i]];
	}
	Number.prototype.TOFIXED=function(n){
		var z=Number('1e-'+(n+1));
		if (abs(this)<z)
			return(0);
		else
			return(Number(Math.round(this+'e'+n)+'e-'+n));
	}	
	random=RNG;
}	
function expand(t){ 
	var toToggle=[], toClose=[];
	processLists();
	if (t.hasAttribute('data-open'))
		toToggle=t.getAttribute('data-open').split(',');
	if (t.hasAttribute('data-close')) 
		toClose=t.getAttribute('data-close').split(',');
	var i,n;
	
	if (toToggle.length>0){
		n=document.getElementById(toToggle[0]);
		if (n.style.display != 'block'){
			for (i=0;i<toToggle.length;i++)
				document.getElementById(toToggle[i]).style.display='block';
		}
		else{
			for (i=0;i<toToggle.length;i++)
				document.getElementById(toToggle[i]).style.display='none';		
		}
	}
	if (toClose.length>0){ 
		for (i=0;i<toClose.length;i++)
			document.getElementById(toClose[i]).style.display='none';
	}
}

function setupExpanders(){
	var e=document.getElementsByClassName('expander');
	var i;
	for (i =0; i<e.length; i++){
		e[i].onclick=function(){expand(this);}
	}
}
function setupAll(){
	cacheMath();
	setupExpanders();
	allExpandables=document.getElementsByClassName('expandable');
	listTextArea=document.getElementsByClassName('datalist');
	listLabelTextArea=document.getElementsByClassName('datalabel');
	sumRow=document.getElementsByClassName('rowSum');
	sumList=document.getElementsByClassName('listAreaSum');
	sumN=document.getElementsByClassName('nAreaSum');
	sumMean=document.getElementsByClassName('meanAreaSum');
	sumS=document.getElementsByClassName('sAreaSum');
	sumS2=document.getElementsByClassName('s2AreaSum');
	sumMin=document.getElementsByClassName('minAreaSum');
	sumQ1=document.getElementsByClassName('q1AreaSum');
	sumQ2=document.getElementsByClassName('q2AreaSum');
	sumQ3=document.getElementsByClassName('q3AreaSum');
	sumMax=document.getElementsByClassName('maxAreaSum');
	sumSum=document.getElementsByClassName('sumAreaSum');
	sumRange=document.getElementsByClassName('rangeAreaSum');
	histoDivs=document.getElementsByClassName('histoDiv');
	histoLabels=document.getElementsByClassName('histoLabel');
	histoCanvases=document.getElementsByClassName('histoCanvas');
	boxlabels=document.getElementsByClassName('boxlabel');
	boxcheckboxes=document.getElementsByClassName('boxcheckbox');
	scatterxlabels=document.getElementsByClassName('scatterxlabel');
	scatterxradios=document.getElementsByClassName('scatterxradio');
	scatterylabels=document.getElementsByClassName('scatterylabel');
	scatteryradios=document.getElementsByClassName('scatteryradio');
	
/*	geninputlabels=document.getElementsByClassName('geninputlabel');
	geninputradios=document.getElementsByClassName('geninputradio');
	genoutputlabels=document.getElementsByClassName('genoutputlabel');
	genoutputradios=document.getElementsByClassName('genoutputradio');
	canoutputlabels=document.getElementsByClassName('canoutputlabel');
	canoutputradios=document.getElementsByClassName('canoutputradio');
	intervallabels=document.getElementsByClassName('intervallabel');
	intervalradios=document.getElementsByClassName('intervalradio');
	meantestlabels=document.getElementsByClassName('meantestlabel');
	meantestradios=document.getElementsByClassName('meantestradio');
*/

	for (let i=0;i<numLists;i++){
		listTextArea[i].onkeyup=function(e){handleEnter(e);};
		listLabel[i]='List '+i;
	}	
	processLists();
}

function printRadioList(x){
		for (let i=0;i<numLists;i++)
			document.write("<label><input type='radio' name='"+x+"radio' class='"+x+"radio'><span class='"+x+"label'>"+listLabel[i]+"</span></label>&nbsp;");	
		allRadioNames.push(x+'radio');
		allLabelNames.push(x+'label');
}
function getChecked(x){
	var a=document.getElementsByClassName(x+'radio');
	var r=0;
	for (i=0;i<a.length;i++)
		if (a[i].checked)
			r=i;
	return(r);		
}

function closeAll(){
	var i;
	for (i=0;i<allExpandables.length;i++)
		allExpandables[i].style.display='none';
}
function openDiv(t){
	t.style.display='block';
}
function purge(x){
	x.style.display='none';
}
function showListLabels(){
	var i;
	for (i=0;i<numLists;i++){
		if (!listLabel[i])
			listLabel[i]='List '+i;
			listLabelTextArea[i].value=listLabel[i];
//			geninputlabels[i].innerHTML=listLabel[i];
//			genoutputlabels[i].innerHTML=listLabel[i];
//			canoutputlabels[i].innerHTML=listLabel[i];
//			boxlabels[i].innerHTML=listLabel[i];
//			scatterxlabels[i].innerHTML=listLabel[i];
//			scatterylabels[i].innerHTML=listLabel[i];
//			intervallabels[i].innerHTML=listLabel[i];
//			meantestlabels[i].innerHTML=listLabel[i];
		}
}

function getLists(){ 
	var i,j;
	for (i=0;i<numLists;i++){
		listLabel[i]=listLabelTextArea[i].value;
		list[i]=listTextArea[i].value.split('\n');
	}
	for (i=0;i<numLists;i++)
	for (j=0;j<list[i].length;j++){ 
		try{
			list[i][j]=eval(list[i][j]);
		}
		catch{
			console.log('error processing: '+list[i][j]);
		}
	}	
}

function printLists(){ 
	var i;
	for (i=0;i<numLists;i++){
		listLabelTextArea[i].value=listLabel[i];
		listTextArea[i].value=list[i].join('\n');
	}
}
function handleEnter(e){
	if (e.key=='Enter')
		processLists();
}
function processLists(e){ 
		getLists(); 
		printLists();
		showListLabels();
		summarize();
		showSummaryStats();
}
function trimNulls(a){
	while ((a.length>0) && (a[a.length-1]==undefined))
		a.pop();
}
function sumArray(a){
	var i;
	var r=0;
	for (i=0;i<a.length;i++)
		r+=a[i];
	return(r);
}
function percentileSorted(a,p){
	
	var i=p*a.length-1;
	var r;
	if (i==floor(i)){
		if (i==a.length-1)
			r=a[i];
		else
			r=(a[i]+a[i+1])/2;
	}
	else{
		r=a[ceil(i)];
	}
	return(r);
}
function percentile(a,p){
	var b=a.toSorted(function(a, b){return a - b});
	return(percentileSorted(b, p));
}
function squareArray(a){
	var b=[];
	var i;
	for (i=0;i<a.length;i++)
		b[i]=a[i]*a[i];
	return(b);	
}
function summarizeArray(a){
	var r={n:0, m:0, s:0, s2:0, min:0, q1:0, q2:0, q3:0, max:0, sum:0, range:0};
	var sortedArray
	var squaredArray
	var sumOfSquares;
	trimNulls(a);
	r.n=a.length;
	if (r.n == 0)
		return(r);
	else if (r.n==1){
		r.m=a[0]; r.min=a[0]; r.q1=a[0]; r.q2=a[0]; r.q3=a[0]; r.max=a[0]; r.sum=a[0];
	}
	else{
		sortedArray=a.toSorted(function(a, b){return a - b});
		r.sum=sumArray(a);
		r.m=r.sum/r.n;
		r.min=sortedArray[0];
		r.max=sortedArray[a.length-1];
		r.range=r.max-r.min;
		r.q1=percentileSorted(sortedArray, 0.25);
		r.q2=percentileSorted(sortedArray, 0.5);
		r.q3=percentileSorted(sortedArray, 0.75);
		squaredArray=squareArray(a);
		sumOfSquares=sumArray(squaredArray);
		r.s2=(r.n*sumOfSquares-r.sum*r.sum)/(r.n*(r.n-1));
		r.s=sqrt(r.s2);
	}
	return(r);
}
function summarize(){ 
	var i;
	var r;
	for (i=0;i<numLists;i++){
		r=summarizeArray(list[i]);
		listN[i]	=r.n;
		listM[i] 	=r.m;
		listS[i] 	=r.s;
		listS2[i] 	=r.s2;
		listMin[i] 	=r.min;
		listQ1[i]	=r.q1;
		listQ2[i] 	=r.q2;
		listQ3[i] 	=r.q3;
		listMax[i] 	=r.max;
		listSum[i] 	=r.sum;
		listRange[i]=r.range;
	}
}
function showSummaryStats(){
	var i;
	
	for (i=0;i<numLists;i++){
		sumList[i].innerHTML=listLabel[i];
		sumN[i].innerHTML=listN[i];
		sumMean[i].innerHTML=listM[i].TOFIXED(printPrecision);
		sumS[i].innerHTML=listS[i].TOFIXED(printPrecision);
		sumS2[i].innerHTML=listS2[i].TOFIXED(printPrecision);
		sumMin[i].innerHTML=listMin[i].TOFIXED(printPrecision);
		sumQ1[i].innerHTML=listQ1[i].TOFIXED(printPrecision);
		sumQ2[i].innerHTML=listQ2[i].TOFIXED(printPrecision);
		sumQ3[i].innerHTML=listQ3[i].TOFIXED(printPrecision);
		sumMax[i].innerHTML=listMax[i].TOFIXED(printPrecision);
		sumSum[i].innerHTML=listSum[i].TOFIXED(printPrecision);
		sumRange[i].innerHTML=listRange[i].TOFIXED(printPrecision);
		
		if (listN[i]>0) sumRow[i].style.display='table-row';
		else sumRow[i].style.display='none';
	}
}

//chart stuff -------------------------------------------------------------------------------------------







//++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//stat library 
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++

var epsilon=.000000001;
//*DISTRIBUTIONS STUFF *********************************

// Discrete distributions *************************************************************
function factorial(n){
	if ((n==0) || (n==1))
		return(1);
	else
		return(n*factorial(n-1));
	}
function perm(n,k){
	return(factorial(n)/factorial(n-k));
	}
function combo(n,k){
	return(factorial(n)/(factorial(k)*factorial(n-k)));
	}
function binompdf(n,p,x){
//	return(Math.pow(p,x)*Math.pow(1-p,n-x)*factorial(n)/(factorial(n-x)*factorial(x)));
	var a, q, i, m, s, z1, z2;

	if (n<=1000){
		q=1-p;
		a=1;
		m=n;
		for (i=1;i<=x;i++){
			a=a*p*m/i;
			m=m-1;
			}
		for (i=1;i<=n-x;i++)
			a=a*q;
		}
	else{
		m=n*p;
		s=Math.sqrt(n*p*(1-p));
		z1=((x-0.5)-m)/s;
		z2=((x+0.5)-m)/s;
		a=normalcdf(z1, z2);
		}
	return(a);
	}
function binomcdf(n,p,x){
	var sum, k, m, s, z;

	if (n<=1000){
		sum=0;
		for (k=0;k<=x;k++)
			sum+=binompdf(n,p,k);
		}
	else{
		m=n*p;
		s=Math.sqrt(n*p*(1-p));
		z=(x+0.5-m)/s;
		sum=normalcdf(z);
		}
	return(sum);
	}
function logFac(x){
	var r=0;
	var i;
	for (i=1;i<=x;i++)
		r+=Math.log(i);
	return(r);
	}
function poissonpdf(m,x){
//	return(Math.pow(m,x)*Math.exp(-m)/factorial(x));
	return(Math.exp(x*Math.log(m)-m-logFac(x)));
	}
function poissoncdf(m,x){
	var sum, k;

	sum=0;
	for (k=0;k<=x;k++)
		sum+=poissonpdf(m,k);
	return(sum);
	}

//*************************************************************************************

// Normal Distribution *******************************************
function normalpdf(x){
	return(Math.exp(-0.5*x*x)/Math.sqrt(2*Math.PI));
	}
function normalcdf(x,y,mean,stdev){

	if (( mean!=undefined) && (stdev != undefined)){
		return(normalcdf((x-mean)/stdev, (y-mean)/stdev));
		}
	else{
		if (y==undefined){
			var X;
			if (x<-9) X=-9;
			else if (x>9) X=9;
			else X=x;
			var s=X;
			var t=0;
			var b=X;
			var q=X*X;
			var i=1;
			while(s!=t)
				s=(t=s)+(b*=q/(i+=2));
			return (.5+s*Math.exp(-.5*q-.91893853320467274178));
			}
		else{
			return(normalcdf(y)-normalcdf(x));
			}
		}
	}
var bisectFunction;
function bisect(left, leftvalue, right,rightvalue){
	var middle;
	middle = ((left+right)/2);
	middlevalue=bisectFunction(middle);
	if ((Math.abs(middlevalue) < epsilon) || ((right-left)<epsilon))
		return (middle);
	else{
		if (leftvalue*middlevalue <= 0)
			return(bisect(left,leftvalue, middle,middlevalue));
		else
			return(bisect(middle,middlevalue, right,rightvalue));
		}
	}
function invnorm(x, mean, stdev){
	var thefun;
	var r;
	thefun='normalcdf(x)-'+x;
	bisectFunction=function(x){
		var value;
		with(Math){
			value = eval(thefun);
			}
		return(value);
		};
	r=(bisect(-9,0-x,9,1-x));
	if ((mean != undefined) && (stdev != undefined))
		r=mean+stdev*r;
	return(r);
	}
//****************************************************************

function fequal(f, g, l, h, n){
	var fDiffEpsilon=0.01;
	var fFunction = function(x){
		var value
		with (Math){
			value=eval(f);
			}
		return value;
		}
	var gFunction = function(x){
		var value
		with (Math){
			value=eval(g);
			}
		return value;
		}

	var dx, sum, x, diff;
	if ((n==undefined)||(n<=0))
		n=100;
	dx=(h-l)/n;

	sum=0;
	for (x=l;x<=h;x+=dx){
		diff=(fFunction(x)) - (gFunction(x));
		sum+=diff*diff;
		}
	if (sum<fDiffEpsilon)
		return(1);
	else
		return(0);
	}

// supporting functions ******************************************
function integrate(thefun, a, b){
	var dx,X,sum,n,k;

	var integralFunction =
		function(x){
			var value;
			with(Math){
				value = eval(thefun);
				}
			return(value);
			};

	n=10000;
	dx=(b-a)/n;
	sum=0;
	for (k=1;k<n;k++){
		X=a+k*dx;
		sum += 2*integralFunction(X);
		}
	sum += integralFunction(a)+integralFunction(b);
	return (sum*(b-a)/(2*n));
	}
var P = new Array(7);
P[0] = 1.000000000190015
P[1] = 76.18009172947146
P[2] = -86.50532032941677
P[3] = 24.01409824083091
P[4] =  -1.231739572450155
P[5] = 0.001208650973866179
P[6] = -0.000005395239384953
function gamma(z){
	var sum;
	var i;
	if (z==0)
		return(1);
	else if (z==0.5)
		return(1.7724538509055931);
	else if (z==1)
		return(1);
	else{
		sum=P[0];
		for (i=1;i<7;i++)
			sum+=P[i]/(z+i);
		return((Math.sqrt(2*Math.PI)*sum/z)*Math.pow(z+5.5,z+0.5)*Math.exp(-(z+5.5)));
		}
	}
function logGamma(z){
	if (z<2)
		return(Math.log(gamma(z)));
	else
		return(Math.log(z-1) + logGamma(z-1));
	}

function logBeta(x,y){
	return(logGamma(x)+logGamma(y)-logGamma(x+y));
	}
function beta(x,y){
	return(Math.exp(logBeta(x,y)));
//	return(gamma(x)*gamma(y)/gamma(x+y));
	}
function RIB(x,a,b){
	var c,sum,n,term,logterm,logx;

	c=Math.pow(x,a)*Math.pow(1-x,b)/(a*beta(a,b));
	sum=0;
	term=1;
	n=0;
	logx=Math.log(x);
	while (term>epsilon){
		sum+=term;
//		term=Math.pow(x,n+1)*beta(a+1,n+1)/beta(a+b,n+1);
		logterm=(n+1)*logx+logBeta(a+1,n+1)-logBeta(a+b,n+1);
		term=Math.exp(logterm);
		n++;
		}
	return(c*(sum+term));
	}
function LIG(s,z){
	if (s>1){
		return((s-1)*LIG(s-1,z)-Math.pow(z,s-1)*Math.exp(-z));
		}
	else{
		var k;
		var sum;
		var term;
		var n;
		var bob;

		sum=0;
		term=1;
		k=0;
		while (term > epsilon){
			sum+=term;
			k++;
			term=term*z/(s+k);
			}
		return((sum+term)*Math.pow(z,s)/(s*Math.exp(z)));
		}
	}
//****************************************************************

// t Distribution ************************************************
function logtpdf(x,df){
	return(logGamma((df+1)/2)-0.5*Math.log(df*Math.PI)-logGamma(df/2)-((df+1)/2)*Math.log(1+x*x/df));
	}
function tpdf(x,df){
	return(Math.exp(logtpdf(x,df)));
	}
function tIntegral(n, t){
//Calculates int(1/((1+x^2)^n), x, 0, t) recursively
	if (n==1)
		return(Math.atan(t));
	else if (n==0.5)
		return(Math.log(Math.sqrt(1+t*t)+t));
	else
		return(tIntegral(n-1,t)*(2*n-3)/(2*(n-1)) + t/(2*(n-1)*Math.pow(1+t*t, n-1)));
	}
function tPDFco(df){
//calculates coefficient for t pdf fcn
	return(Math.exp(logGamma((df+1)/2)-0.5*Math.log(df*Math.PI)-logGamma(df/2)));
	}
function tcdf(t,a,b){
	var df, Q;
	if (b==undefined){
		df=a;
		Q=tPDFco(df)*Math.sqrt(df)*tIntegral((df+1)/2, Math.abs(t)/Math.sqrt(df));
		if (t>=0)
			return(0.5+Q);
		else
			return(0.5-Q);
		}
	else
		return(tcdf(a,b)-tcdf(t,b));
	}
function oldtcdf(t,a,b){
	if (b==undefined){
		df=a;
		var x = (t+Math.sqrt(t*t+df))/(2*Math.sqrt(t*t+df));
		var df2 = df/2;
		return(RIB(x, df2,df2));
		}
	else
		return(tcdf(a,b)-tcdf(t,b));
	}
function invt(x,df){
	var thefun='tcdf(x,'+df+')-'+x;
	bisectFunction=function(x){
		var value;
		with(Math){
			value = eval(thefun);
			}
		return(value);
		};
	return(bisect(-100,tcdf(-100,df)-x,100,tcdf(100,df)-x));
	}

//****************************************************************


// chi2 distribution *********************************************
function chi2pdf(x, df){
	if (df<=1){
		var bottom = Math.sqrt(2)*gamma(0.5);
		return(1/(bottom*Math.sqrt(x*Math.exp(x))));
		}
	else
		return((Math.pow(x,df/2-1)*Math.exp(-x/2))/(Math.pow(2,df/2)*gamma(df/2)));
	}
function chi2cdf(x, df){
	if (df<=1){
		return(LIG(df/2.0, x/2.0)/gamma(df/2));
		}
	else
		return(integrate('chi2pdf(x, '+df+')',0,x ));
	}
function invchi2(x,df){
	var thefun='chi2cdf(x,'+df+')-'+x;
	bisectFunction=function(x){
		var value;
		with(Math){
			value = eval(thefun);
			}
		return(value);
		};
	return(bisect(0,chi2cdf(0,df)-x,100,chi2cdf(100,df)-x));
	}	
//****************************************************************

// F distribution ************************************************
function fcdf(x, d1, d2){
	var z;
	z= d1*x /(d1*x + d2);
	return(RIB(z, d1/2, d2/2));
	}
//****************************************************************

//++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//END stat library 
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++



</script>
<body>
<div class='tabbar'>
<button class='expander' data-open='dataListDiv' data-close='generatedDiv,summaryDiv,chartDiv,distributionDiv,intervalsDiv,testsDiv'>Data</button>
<button class='expander' data-open='summaryDiv'  data-close='dataListDiv,distributionDiv,intervalsDiv,testsDiv'>Summary</button>
<button class='expander' data-open='chartDiv'  data-close='dataListDiv,distributionDiv,intervalsDiv,testsDiv'>Plots</button>
<button class='expander' data-open='distributionDiv'  data-close='dataListDiv,generatedDiv,summaryDiv,chartDiv,intervalsDiv,testsDiv'>Calculators</button>
<button class='expander' data-open='intervalsDiv'  data-close='intervalCLDiv,dataListDiv,generatedDiv,summaryDiv,chartDiv,distributionDiv,testsDiv'>Intervals</button>
<button class='expander' data-open='testsDiv'  data-close='dataListDiv,generatedDiv,summaryDiv,chartDiv,distributionDiv,intervalsDiv'>Tests</button>

</div>
<div class='content'><div class='pad'></div>


<!---- Data Lists ---------------------------------------------->
<div id='dataListDiv' class='pageDiv expandable'>
<div class='pageMenu'>
<button class='expander' data-open='generatedDiv' data-close='cannedDiv,normalGenDiv,uniformGenDiv,binomialGenDiv,sampleGenDiv,genIntegerDiv'>Generate Data</button>
<button class='expander' data-open='cannedDiv' data-close='generatedDiv,normalGenDiv,uniformGenDiv,binomialGenDiv,sampleGenDiv,genIntegerDiv'>Canned Data</button>
</div>

<!--generated data ---------------------------------------------->
<div id='generatedDiv' class='pageDiv expandable'>
<div class='pageMenu' id='generateMenu'>
	<button class='expander' data-open='uniformGenDiv,genIntegerDiv' data-close='normalGenDiv,binomialGenDiv,sampleGenDiv,resampleGenDiv'>Uniform</button>
	<button class='expander' data-open='normalGenDiv,genIntegerDiv' data-close='uniformGenDiv,binomialGenDiv,sampleGenDiv,resampleGenDiv'>Normal</button>
	<button class='expander' data-open='binomialGenDiv' data-close='normalGenDiv,uniformGenDiv,sampleGenDiv,resampleGenDiv,genIntegerDiv'>Binomial</button>
	<button class='expander' data-open='sampleGenDiv' data-close='normalGenDiv,uniformGenDiv,binomialGenDiv,resampleGenDiv,genIntegerDiv'>Sample</button>
	<button class='expander' data-open='resampleGenDiv' data-close='normalGenDiv,uniformGenDiv,binomialGenDiv,sampleGenDiv,genIntegerDiv'>Sample Means</button>
</div>
<div class='subPage'>
	
<div id='genIntegerDiv'>
		Integer? <label><input type="radio" name='geninteger' id="genintegeryes">yes</label>&nbsp; <label><input type="radio" name='geninteger' checked=true>no</label>
</div>
		
<ul>
<!---------------------------------------------------------------------------------------------------------------------------->
	<div id='uniformGenDiv' class='expandable generator'>
	Output List:<br><script>printRadioList('ugenoutput');</script>
		<table>
		<tr><td>Minimum:</td><td> <input type="text" id="uniformminimum" value='0'></td></tr>
		<tr><td>Maximum:</td><td> <input type="text" id="uniformmaximum" value='100'></td></tr>
		<tr><td>Size:</td><td> <input type="text" id="uniformn" value='100'></td></tr>
		</table>
		<button onclick="generateUniformDataSet();">Generate Data Set</button>
	</div>
	<script>
	function generateUniformDataSet(){
		var i,l;
		l=getChecked('ugenoutput');//getOutputList();

		var a=eval(uniformminimum.value);
		var b=eval(uniformmaximum.value);
		var n=eval(uniformn.value);
		list[l]=[];
		for (i=0;i<n;i++)
			list[l][i]=(a+(random()*(b-a))).TOFIXED(printPrecision);
		if (genintegeryes.checked)
			for (i=0;i<n;i++)
				list[l][i]=round(list[l][i]);
		printLists();
		processLists();
		closeAll();
		openDiv(dataListDiv);	
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
	<div id='normalGenDiv' class='expandable generator'>
	Output List:<br><script>printRadioList('ngenoutput');</script>
		<table>
		<tr><td>Mean:</td><td> <input type="text" id="normalmean" value='0'></td></tr>
		<tr><td>Standard Deviation:</td><td> <input type="text" id="normalsd" value='1'></td></tr>
		<tr><td>Size:</td><td> <input type="text" id="normaln" value='100'></td></tr>
		</table>
		<button onclick="generateNormalDataSet();">Generate Data Set</button>
	</div>
	<script>
	function boxMuller(){
		var u1=random();
		var u2=random();
		var z=sqrt(-2*log(u1))*cos(2*PI*u2);
		return(z);
	}
	function generateNormalDataSet(){
		var i,l;

		l=getChecked('ngenoutput');//getOutputList();		
		var m=eval(normalmean.value);
		var s=eval(normalsd.value);
		var n=eval(normaln.value);
		list[l]=[];
		for (i=0;i<n;i++)
			list[l][i]=(m+s*boxMuller()).TOFIXED(printPrecision);
		if (genintegeryes.checked)
			for (i=0;i<n;i++)
				list[l][i]=round(list[l][i]);

		printLists();
		processLists();
		closeAll();
		openDiv(dataListDiv);
	}
	</script>
<!---------------------------------------------------------------------------------------------------------------------------------->	
	<div id='binomialGenDiv' class='expandable generator'>
	Output List:<br><script>printRadioList('bgenoutput');</script>
		<table>
		<tr><td>Probability of Success:</td><td> <input type="text" id="binomGenP" value='0.25'></td></tr>
		<tr><td>Sample Size:</td><td> <input type="text" id="binomGenN" value='31'></td></tr>
		</table>
		<button onclick="generateBinomialDataSet();">Generate Data Set</button>
	</div>
	<script>
	function generateBinomialDataSet(){
		var outlist=getChecked('bgenoutput');//getOutputList();
		var n= eval(binomGenN.value);
		var p= eval(binomGenP.value);
		var i;
		
		list[outlist]=[];
		for (i=0;i<p*n;i++){
			list[outlist].push(1);
		}
		for (;i<n;i++){
			list[outlist].push(0);
		}
		printLists();
		processLists();
		closeAll();
		openDiv(dataListDiv);	
	}
	</script>
<!----------------------------------------------------------------------------------------------------------------------------------->	
	<div id='sampleGenDiv' class='expandable generator'>
	Input List:<br><script>printRadioList('sgeninput');	</script><br>
	Output List:<br><script>printRadioList('sgenoutput');</script>
		<table>
		<tr><td>Sample Size:</td><td> <input type="text" id="samplesize" value='31'></td></tr>
		</table>
		<button onclick="generateSample();">Generate Data Set</button>
	</div>
	<script>
	function generateSample(){
		var inlist=0;
		var outlist=1;
		var i,j;
		var c;
				
		outlist=getChecked('sgenoutput');
		inlist=getChecked('sgeninput');		

		if (inlist==outlist)
			alert("Lists must be different.");
		else if (listN[inlist]==0)
			alert('The population list is empty.');
		else{
			list[outlist]=[];
			var n=eval(samplesize.value);
			for (i=0;i<n;i++){
				list[outlist].push(list[inlist][floor(random()*listN[inlist])]);
			}
			printLists();
			processLists();
			closeAll();
			openDiv(dataListDiv);
		}
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
	<div id='resampleGenDiv' class='expandable generator'>
	Input List:<br><script>printRadioList('rgeninput');	</script><br>
	Output List:<br><script>printRadioList('rgenoutput');</script>
		<table>
		<tr><td>Sample Size:</td><td> <input type="text" id="samplemeansize" value='31'></td></tr>
		<tr><td>Number of Samples:</td><td> <input type="text" id="samplemeannumsamples" value='100'></td></tr>
		</table>
		<button onclick="generateSampleMeans();">Generate Data Set</button>
	</div>
</div>
	<script>
	function generateSampleMeans(){
		var inlist=0;
		var outlist=1;
		var i,j;
		var c;
		
		outlist=getChecked('rgenoutput');
		inlist=getChecked('rgeninput');	

		if (inlist==outlist)
			alert("Lists must be different.");
		else if (listN[inlist]==0)
			alert('The population list is empty.');
		else{
			list[outlist]=[];
			var n=eval(samplemeansize.value);
			var N=eval(samplemeannumsamples.value);
			for (i=0;i<N;i++){
				c=0;
				for (j=0;j<n;j++)
					c+=list[inlist][floor(random()*listN[inlist])];
				c=c/n;
				list[outlist].push(c.TOFIXED(printPrecision));
			}
			printLists();
			processLists();
			closeAll();
			openDiv(dataListDiv);
		}
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
</ul>
</div><!--generatedDiv-->
<!--generated data ---------------------------------------------->

<!----------------------------------------------------------------------------------------------------------------------------------->
<!-- canned dat-->
<div id='cannedDiv' class='pageDiv expandable'>
<div class='subPage'>
		Output List:<br><script>printRadioList('canoutput');</script><br>
canned data not yet implemented
</div>
</div>
<!-- canned data--->
<!---------------------------------------------------------------------------------------------------------------------------------->
<div id='dataTableDiv'>
	<table>
	
			<script>
			document.write('<tr>');
			for (let i=0;i<numLists;i++)
				document.write('<th>'+i+'</th>')
			document.write('</tr><tr>');
			for (let i=0;i<numLists;i++)
				document.write('<td><textarea class="datalabel" rows=1 cols=10 wrap="off"></textarea></td>');
			document.write('</tr><tr>');
			for (let i=0;i<numLists;i++)
				document.write('<td ><textarea class="datalist"  rows=1000 cols=10 wrap="off"></textarea></td>');
			document.write('</tr>');
			</script>
	</table>
</div>	
</div><!--dataListDiv-->
<!---- Data Lists ---------------------------------------------->


<!---- Summary Statistics ------------------------------------>
<div id='summaryDiv' class='pageDiv expandable'>

<div class='subPage'>
<table border=1 class='summaryTable'>
<tr><th>List</th><th>n</th><th>x&#772;</th><th>s</th><th>s<sup>2</sup></th><th>Min</th><th>Q<sub>1</sub></th><th>Q<sub>2</sub></th><th>Q<sub>3</sub></th><th>Max</th><th>Sum</th><th>Range</th></tr>
<script>
for (let i=0;i<numLists;i++){
	document.write('<tr class="rowSum"><td class="listAreaSum"><td class="nAreaSum"><td class="meanAreaSum"><td class="sAreaSum"><td class="s2AreaSum"><td class="minAreaSum"><td class="q1AreaSum"><td class="q2AreaSum"><td class="q3AreaSum"><td class="maxAreaSum"><td class="sumAreaSum"><td class="rangeAreaSum"></td></tr>');
}
</script>

</table>
</div>
</div> <!--- summaryDiv--->
<!---- Summary Statistics ------------------------------------>


<!--charts------------------------------------------------------>
<div id='chartDiv' class='pageDiv expandable'>
<div class='pageMenu'>
<button class='expander' data-open='histoDiv' data-close='boxDiv,scatterDiv,quantileDiv,insideHistoDiv'>Histograms</button>
<button class='expander' data-open='boxDiv' data-close='histoDiv,scatterDiv,quantileDiv,boxplotCanvasDiv'>Box Plots</button>
<button class='expander' data-open='scatterDiv' data-close='histoDiv,boxDiv,quantileDiv,scatterPlotDiv'>Scatter Plots</button>
<button class='expander' data-open='quantileDiv'  data-close='histoDiv,boxDiv,scatterDiv,quantilePlotDiv'>Quantile Plots</button>
</div>

<div class='subPage'>
<!------------------------------------------------------------------------------------------------------------------------------->
	<div id='histoDiv' class='expandable'>
	<table>
	<tr><td>Minimum value: </td><td><textarea id='histoMin' rows=1 cols=10>0</textarea></td></tr>
	<tr><td>Maximum value: </td><td><textarea id='histoMax' rows=1 cols=10>100</textarea></td></tr>
	<tr><td>Number of Bins: </td><td><textarea id='histoBins' rows=1 cols=10>10</textarea></td></tr>
	</table>
	<button onclick="drawHistograms();">Redraw</button><br>
	Lists: <br><script>
	for (let i=0;i<numLists;i++)
		document.write("<label><input type='checkbox'  class='histocheckbox' onclick='drawHistograms();'><span class='histolabel'  style='color:"+theColors[i]+";'>"+listLabel[i]+"</span></label>&nbsp;");
	</script>
	<div id="insideHistoDiv"><canvas id="histoCanvas" width=400 height=200></canvas><hr></div>
	</div>
<script>

function drawHistograms(){ 
	var i,bin,j;
	var n,dx,d;
	var c,H;
	var Min;
	processLists();
	n=eval(histoBins.value);
	d=(eval(histoMax.value)-eval(histoMin.value))/n;
	Min=eval(histoMin.value);
	var can=histoCanvas;
	var ctx=can.getContext('2d');
	var w=can.width;
	var h=can.height;	
	ctx.fillStyle='white';
	ctx.fillRect(0,0,w,h);	
	var boxes=document.getElementsByClassName('histocheckbox');
var numChecks=0;
for (i=0;i<numLists;i++)
	if ((boxes[i].checked) && listN[i]>0)
		numChecks++;
	else
		boxes[i].checked=false;
if (numChecks>0){	
			ctx.font='12px Helvetica';
			ctx.fillStyle='black';
			dx=w/(n+2);
			for (j=0;j<=n;j++){
				ctx.save();
				ctx.translate(j*dx, h-40);
				ctx.rotate(PI/2);
				ctx.fillText((Min+j*d).TOFIXED(2),0,0);
				ctx.restore();
			}
	var listsDrawn=0;
	for (i=0;i<numLists;i++)
	if ((listN[i]>1) && (boxes[i].checked)){
		//histoDiv.style.display='block';
		ctx.strokeStyle=theColors[i];
			c=[];
			for (bin=0;bin<n;bin++)
				c[bin]=0;
			for (j=0;j<listN[i];j++)
				c[ floor((list[i][j]-Min)/d)  ]++;
			H=1;
			for (j=0;j<n;j++)
				if (c[j]>H)
					H=c[j];

			ctx.lineWidth=0.95*dx/numChecks;
			ctx.beginPath();
			for (j=0;j<n;j++){
				ctx.moveTo(j*dx+dx/2+listsDrawn*dx/numChecks, h-50);
				ctx.lineTo(j*dx+dx/2+listsDrawn*dx/numChecks, h-(h-60)*c[j]/H-50);
			}
			listsDrawn++;
			ctx.stroke();
			insideHistoDiv.style.display='block';
	}
	else boxes[i].checked=false;
}	
}
</script>
<!------------------------------------------------------------------------------------------------------------------------------->

	<div id='boxDiv' class='expandable'>
	Lists: <br><script>
	for (let i=0;i<numLists;i++)
		document.write("<label><input type='checkbox'  class='boxcheckbox' onclick='drawBoxPlots();'><span class='boxlabel' style='color:"+theColors[i]+";'>"+listLabel[i]+"</span></label>&nbsp;");
	</script>
	<br>
	<div id='boxplotCanvasDiv' class='expandable'>
	<canvas id='boxplot' width=400 height=400></canvas>
	</div>
	</div>
<script>
function drawBoxPlots(){
	var i,j,m,M,x1,x2,x3,x4,x5;
	var y;
	var d;
	var can=boxplot;
	var ctx=can.getContext('2d');
	var w=can.width;
	var h=can.height;
	var plotted=false;
	
	ctx.strokeStyle='black';
	ctx.fillStyle='white';
	ctx.lineWidth=1;
	ctx.fillRect(0,0,w,h);

	i=0;
	while ((i<numLists) && ((listN[i]==0) || (!boxcheckboxes[i].checked))) i++;
	if (i<numLists){
		m=listMin[i];
		M=listMax[i];
		for (j=i+1;j<numLists;j++) if (boxcheckboxes[i].checked){
			if (listMin[j]<m) m=listMin[j];
			if (listMax[j]>M) M=listMax[j];
		}
		d=h/(numLists+3);
		y=d+30;
		ctx.font='12px Helvetica';
		var bw=5;
		for (i=0;i<numLists;i++)
			if ((boxcheckboxes[i].checked) && (listN[i]>0)){
			plotted=true;
				ctx.fillStyle='black';
				ctx.strokeStyle=theColors[i];
				ctx.beginPath();
				x1=(listMin[i]-m)*(w-2*d)/(M-m)+1.5*d;
				x2=(listQ1[i]-m)*(w-2*d)/(M-m)+1.5*d;
				x3=(listQ2[i]-m)*(w-2*d)/(M-m)+1.5*d;
				x4=(listQ3[i]-m)*(w-2*d)/(M-m)+1.5*d;
				x5=(listMax[i]-m)*(w-2*d)/(M-m)+1.5*d;
				ctx.moveTo(x1,y-(d/2-bw));
				ctx.lineTo(x1,y+(d/2-bw));
				ctx.moveTo(x3,y-(d/2-bw))
				ctx.lineTo(x3,y+(d/2-bw));
				ctx.moveTo(x5,y-(d/2-bw))
				ctx.lineTo(x5,y+(d/2-bw));
				ctx.rect(x2,y-(d/2-bw), x4-x2,d-2*bw);
				ctx.moveTo(x1,y);
				ctx.lineTo(x5,y);
				ctx.stroke();
				ctx.fillStyle=theColors[i];
				ctx.fillText(listLabel[i],2,y);
				y+=d+2;
			}
	}
	if (plotted){
			ctx.font='12px Helvetica';
			ctx.fillStyle='black';
			var daxis=(M-m)/10;
			var dx=(w-2*d)/10;
			for (j=0;j<11;j++){
				ctx.save();
				ctx.translate(1.5*d+j*dx, 5);
				ctx.rotate(PI/2);
				ctx.fillText((m+j*daxis).TOFIXED(2),0,0);
				ctx.restore();
			}	
	boxplotCanvasDiv.style.display='block';	
	}
}
</script>
<!------------------------------------------------------------------------------------------------------------------------------->

	<div id='scatterDiv' class='expandable'>
X List: <br>
<script>
	for (let i=0;i<numLists;i++)
		document.write("<label><input type='radio'  name='scatterxradio'  class='scatterxradio' onclick='drawScatterPlot();'><span class='scatterxlabel'>"+listLabel[i]+"</span></label>&nbsp;");
</script>
<br>
Y List: <br><script>
	for (let i=0;i<numLists;i++)
		document.write("<label><input type='radio'  name='scatteryradio'  class='scatteryradio' onclick='drawScatterPlot();'><span class='scatterylabel'>"+listLabel[i]+"</span></label>&nbsp;");
</script>
<br>
<div id='scatterPlotDiv' class='expandable'>
<canvas id='scatterplotcanvas' width=400 height=400></canvas>	
</div>
</div>

<script>
function drawScatterPlot(){
	var l1=-1, l2=-1;
	var D=40;
	var i,j;

	for (i=0;i<numLists;i++){
		if (scatterxradios[i].checked) l1=i;
		if (scatteryradios[i].checked) l2=i;
	}
	if ((l1!=-1) && (l2!=-1)&&(listN[l1]*listN[l2]!==0) && (listN[l1]==listN[l2]))
	{
		var xlist=l1;
		var ylist=l2;
		var can=scatterplotcanvas;
		var ctx=can.getContext('2d');
		var w=can.width;
		var h=can.height;
		var xmin=listMin[xlist];
		var xmax=listMax[xlist];
		var ymin=listMin[ylist];
		var ymax=listMax[ylist];
		var n = listN[xlist];
		var W=w-2*D;
		var H=h-2*D;
		var wx=xmax-xmin;
		var wy=ymax-ymin;

		ctx.strokeStyle='black';
		ctx.fillStyle='white';
		ctx.lineWidth=1;
		ctx.fillRect(0,0,w,h);
		ctx.beginPath();
		ctx.rect(0,0,w,h);
		ctx.rect(D,D,W,H);
		ctx.stroke();
		for (i=0;i<n;i++){
			ctx.beginPath();
			ctx.arc(D+W*(list[xlist][i]-xmin)/wx, h-(D+H*(list[ylist][i]-ymin)/wy), 1,0,2*Math.PI);
			ctx.stroke();
		}
		ctx.font='12px Helvetica';
		ctx.fillStyle='black';
		var dx=(xmax-xmin)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6+W*(j*dx)/wx, h-D+6); 
			ctx.rotate(PI/2);
			ctx.fillText((xmin+j*dx).TOFIXED(2),0,0);
			ctx.restore();
		}		
		var dy=(ymax-ymin)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6,h-(D-6+H*(j*dy)/wy)); 
			ctx.textAlign='end';
			ctx.fillText((xmin+j*dy).TOFIXED(2),0,0);
			ctx.restore();
		}		
scatterPlotDiv.style.display='block';
	}	
	else
		scatterPlotDiv.style.display='none';
	
}
</script>
<!------------------------------------------------------------------------------------------------------------------------------->

	<div id='quantileDiv' class='expandable'>
	Data List: <br><script>
	for (let i=0;i<numLists;i++)
		document.write("<label><input type='radio'  name='quantileradio'  class='quantileradio' onclick='drawQuantilePlot();'><span class='quantilelabel'>"+listLabel[i]+"</span></label>&nbsp;");
</script><br>
<div id='quantilePlotDiv' class='expandable'>
<canvas id='quantileplotcanvas' width=400 height=400></canvas>
</div>
	</div>
<script>
function drawQuantilePlot(){
	var i;
	var inlist=0;
	var radiolist=document.getElementsByClassName('quantileradio');
	for (i=0;i<numLists;i++)
		if (radiolist[i].checked) inlist=i;
	if (listN[inlist]==0){
		radiolist[inlist].checked=false;
		quantilePlotDiv.style.display='none';
	}
	else{
		var a=list[inlist].toSorted(function(a, b){return a - b});
		var b=[];
		for (i=0;i<a.length;i++){
			b[i]=invnorm((2*i+1)/(2*a.length));
		}
		var minData=listMin[inlist];
		var maxData=listMax[inlist];
		var minZ=b[0];
		var maxZ=b[b.length-1];
		
		var can=quantileplotcanvas;
		var ctx=can.getContext('2d');
		var w=can.width;
		var h=can.height;
		var D=40;
		ctx.strokeStyle='black';
		ctx.fillStyle='white';
		ctx.lineWidth=1;
		ctx.fillRect(0,0,w,h);
		ctx.beginPath();
		ctx.rect(D,D,w-2*D,h-2*D);
		ctx.stroke();
		var wx=w-2*D;
		var wy=h-2*D;
		for (i=0;i<a.length;i++){
			a[i]=  D+wx*(a[i]-minData)/(maxData-minData);
			b[i]= D+wy*(b[i]-minZ)/(maxZ-minZ);
		}
		for (i=0;i<a.length;i++){
			ctx.beginPath();
			ctx.arc(a[i], h-b[i], 1,0,2*Math.PI);
			ctx.stroke();
		}
		var j
		ctx.font='12px Helvetica';
		ctx.fillStyle='black';
		var dx=(maxData-minData)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6+wx*(j*dx)/(maxData-minData), h-D+6); 
			ctx.rotate(PI/2);
			ctx.fillText((minData+j*dx).TOFIXED(2),0,0);
			ctx.restore();
		}
		
		var dy=(maxZ-minZ)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6,h-(D-6+wy*(j*dy)/(maxZ-minZ))); 
			ctx.textAlign='end';
			ctx.fillText((minZ+j*dy).TOFIXED(2),0,0);
			ctx.restore();
		}	
		
		
		quantilePlotDiv.style.display='block';
	}
}
</script>
<!------------------------------------------------------------------------------------------------------------------------------->

</div>
</div> <!--chartDiv-->	
<!--charts------------------------------------------------------>

<!--distribution calculators--------------------------------------->
<div id='distributionDiv' class='pageDiv'>
<div class='pageMenu expandable'>
<button class='expander' data-open='binomialCalcDiv' data-close='poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Binomial</button>
<button class='expander' data-open='poissonCalcDiv' data-close='binomialCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Poisson</button>
<button class='expander' data-open='normalCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Normal</button>
<button class='expander' data-open='invnormalCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Inverse Normal</button>
<button class='expander' data-open='tCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>t</button>
<button class='expander' data-open='invtCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Inverse t</button>
<button class='expander' data-open='chi2CalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,invchi2CalcDiv'>&chi;<sup>2</sup></button>
<button class='expander' data-open='invchi2CalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv'>Inverse &chi;<sup>2</sup></button>
</div>
<div class='subPage'>
<ul>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='binomialCalcDiv' data-close='poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Binomial</button></li>
	<div id='binomialCalcDiv' class='expandable'>
	<table>
	<tr><td>Number of Trials: 		</td> <td><b>n=</b> </td><td><input type='text' id='binomialn' value="100" onkeydown='purge(binomialAnswerDiv);'></td></tr>
	<tr><td>Probability of Success:  	</td> <td><b>p=</b></td><td><input type='text' id='binomialp' value="0.5" onkeydown='purge(binomialAnswerDiv);'></td></tr>
	<tr><td><b>P(x </b>
	<input name='bequal' id='binomialequal' type='radio' checked=true onclick='purge(binomialAnswerDiv);'><label for='binomialequal'>=</label>
	<input name='bequal' id='binomiallt' type='radio' onclick='purge(binomialAnswerDiv);'><label for='binomiallt'>&lt;</label>
	<input name='bequal' id='binomialleq' type='radio' onclick='purge(binomialAnswerDiv);'><label for='binomialleq'>&leq;</label>
	<input name='bequal' id='binomialgt' type='radio' onclick='purge(binomialAnswerDiv);'><label for='binomialgt'>&gt;</label>
	<input name='bequal' id='binomialgeq' type='radio' onclick='purge(binomialAnswerDiv);'><label for='binomialgeq'>&geq;</label>
	</td><td></td><td><input type='text' id='binomialx' value="50" onkeydown='purge(binomialAnswerDiv);'> <b>)</b></td></tr>
	</table>
	<button onclick="calculateBinomialDistribution();">Calculate</button><br>
	<div id='binomialAnswerDiv' class='answerDiv'>
	<span id="binomialanswer"></span><br>
	<canvas id='binomialcanvas' width="400" height="200"></canvas>
	</div>
	</div>
	<script>
	//binomial distribution ---------------------------------------------------------------------
	function calculateBinomialDistribution(){
	try{
		var n=eval(binomialn.value);
		var p=eval(binomialp.value);
		var x=eval(binomialx.value);
		
		var a,b;
		if (!(n>0))
			alert('The number of trials should be greater than 0.');
		else if (!((0<p) && (p<1)))
			alert('The probability of success should be between 0 and 1.');
		else if (!((0<=x) && (x<=n)))
			alert('The target value should be between 0 and n.');
		else{
			if (binomialequal.checked){
				binomialanswer.innerHTML='Probability='+binompdf(n,p,x).TOFIXED(printPrecision);
				a=x;
				b=x;
				}
			else if (binomiallt.checked){
				binomialanswer.innerHTML='Probability='+binomcdf(n,p,x-1).TOFIXED(printPrecision);
				a=0;
				b=x-1;
				}
			else if (binomialleq.checked){
				binomialanswer.innerHTML='Probability='+binomcdf(n,p,x).TOFIXED(printPrecision);
				a=0;
				b=x;
				}
			else if (binomialgt.checked){
				binomialanswer.innerHTML='Probability='+(1-binomcdf(n,p,x)).TOFIXED(printPrecision);
				a=x+1;
				b=n;
				}
			else if (binomialgeq.checked){
				binomialanswer.innerHTML='Probability='+(1-binomcdf(n,p,x-1)).TOFIXED(printPrecision);
				a=x;
				b=n;
				}

			var ctx=binomialcanvas.getContext('2d');
			var w=binomialcanvas.width;
			var h=binomialcanvas.height;
			var i;
			var m=0;
			for (i=0;i<=n;i++)
				if (binompdf(n,p,m)<binompdf(n,p,i))
					m=i;
			m=binompdf(n,p,m);
			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=w/n;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=n;i++){
				ctx.moveTo(i*w/n,h);
				ctx.lineTo(i*w/n,h-Math.ceil(binompdf(n,p,i)*h/(2*m)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=a;i<=b;i++){
				ctx.moveTo(i*w/n,h);
				ctx.lineTo(i*w/n,h-Math.ceil(binompdf(n,p,i)*h/(2*m)));
			}
			ctx.stroke();
			binomialAnswerDiv.style.display='block';
		}
		
	}
	catch(err){
		alert('Input Error.');
	}
	}
	//end binomial distribution------------------------------------------------------------

	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='poissonCalcDiv' data-close='binomialCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Poisson</button></li>
	<div id='poissonCalcDiv' class='expandable'>
	<table>
	<tr><td>Mean: 		</td> <td><b>&mu;=</b> </td><td><input type='text' id='poissonm' value="55" onkeydown='purge(poissonAnswerDiv);'></td></tr>
	<tr><td><b>P(x </b>
	<input name='pequal' id='poissonequal' type='radio' checked=true onclick='purge(poissonAnswerDiv);'><label for='poissonequal'>=</label>
	<input name='pequal' id='poissonlt' type='radio' onclick='purge(poissonAnswerDiv);'><label for='poissonlt'>&lt;</label>
	<input name='pequal' id='poissonleq' type='radio' onclick='purge(poissonAnswerDiv);'><label for='poissonleq'>&leq;</label>
	<input name='pequal' id='poissongt' type='radio' onclick='purge(poissonAnswerDiv);'><label for='poissongt'>&gt;</label>
	<input name='pequal' id='poissongeq' type='radio' onclick='purge(poissonAnswerDiv);'><label for='poissongeq'>&geq;</label>
	</td><td></td><td><input type='text' id='poissonx' value="50" onkeydown='purge(poissonAnswerDiv);'> <b>)</b></td></tr>
	</table>
	<button onclick="calculatePoissonDistribution();">Calculate</button><br>
	<div id='poissonAnswerDiv' class='answerDiv'>
	<span id="poissonanswer"></span><br>
	<canvas id='poissoncanvas' width="400" height="200"></canvas>
	</div>
	</div>
	<script>
	//poisson distribtuion ------------------------------------------------------------------
	function calculatePoissonDistribution(){
	try{
		var m=eval(poissonm.value);
		var x=eval(poissonx.value);
		var n=2*m;
		var a,b;
		if (!(m>0))
			alert('The mean should be greater than 0.');
		else if (!(x>=0))
			alert('The target value of x should be greater than or equal to 0.');
		else{
			if (poissonequal.checked){
				poissonanswer.innerHTML='Probability='+poissonpdf(m,x).TOFIXED(printPrecision);
				a=x;
				b=x;
				}
			else if (poissonlt.checked){
				poissonanswer.innerHTML='Probability='+poissoncdf(m,x-1).TOFIXED(printPrecision);
				a=0;
				b=x-1;
				}
			else if (poissonleq.checked){
				poissonanswer.innerHTML='Probability='+poissoncdf(m,x).TOFIXED(printPrecision);
				a=0;
				b=x;
				}
			else if (poissongt.checked){
				poissonanswer.innerHTML='Probability='+(1-poissoncdf(m,x)).TOFIXED(printPrecision);
				a=x+1;
				b=n;
				}
			else if (poissongeq.checked){
				poissonanswer.innerHTML='Probability='+(1-poissoncdf(m,x-1)).TOFIXED(printPrecision);
				a=x;
				b=n;
				}

			var ctx=poissoncanvas.getContext('2d');
			var w=poissoncanvas.width;
			var h=poissoncanvas.height;
			var i;
			var M=0;
			for (i=0;i<=n;i++)
				if (poissonpdf(m,M)<poissonpdf(m,i))
					M=i;
			M=poissonpdf(m,M);
			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=w/n;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=n;i++){
				ctx.moveTo(i*w/n,h);
				ctx.lineTo(i*w/n,h-Math.ceil(poissonpdf(m,i)*h/(2*M)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=a;i<=b;i++){
				ctx.moveTo(i*w/n,h);
				ctx.lineTo(i*w/n,h-Math.ceil(poissonpdf(m,i)*h/(2*M)));
			}
			ctx.stroke();
			poissonAnswerDiv.style.display='block';
		}
		
	}
	catch(err){
		alert('Input Error.');
	}
	}
	//end poisson distribution ----------------------------------------------------------

	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='normalCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Normal</button></li>
	<div id='normalCalcDiv' class='expandable'>
	<table>
	<tr><td>Mean: 			</td> <td><b>&mu;=</b> </td><td><input type='text' id='normalm' value="0" onkeydown='purge(normalAnswerDiv);'></td></tr>
	<tr><td>Standard Deviation:  	</td> <td><b>&sigma;=</b></td><td><input type='text' id='normals' value="1" onkeydown='purge(normalAnswerDiv);'></td></tr>
	<tr><td><b>P(</b> <input type='text' id='normala' value="-1" onkeydown='purge(normalAnswerDiv);'> </td><td>&lt; x &lt; </td><td><input type='text' id='normalb' value="1" onkeydown='purge(normalAnswerDiv);'><b>)</b></td>
	</tr>
	</table>
	<button onclick="calculateNormalDistribution();">Calculate</button><br>
	<div id='normalAnswerDiv' class='answerDiv'>
	<span id="normalanswer"></span><br>
	<canvas id='normalcanvas' width="400" height="200"></canvas>
	</div>
	</div>
	<script>

	function calculateNormalDistribution(){
	try{
		var m=eval(normalm.value);
		var s=eval(normals.value);
		var a=eval(normala.value);
		var b=eval(normalb.value);

		if (!(s>0))
			alert('The standard deviation should be greater than 0.');
		else{
			var z1=(a-m)/s;
			var z2=(b-m)/s;
			normalanswer.innerHTML='Probability='+normalcdf(z1,z2).TOFIXED(printPrecision);

			var ctx=normalcanvas.getContext('2d');
			var w=normalcanvas.width;
			var h=normalcanvas.height;
			var i,z;

			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				ctx.lineTo(i,h-Math.ceil(h*normalpdf(z)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				if ((z1<=z) && (z<=z2))
					ctx.lineTo(i,h-Math.ceil(h*normalpdf(z)));
			}
			ctx.stroke();
			normalAnswerDiv.style.display='block';
		}
		
	}
	catch(err){
		alert('Input Error.');
	}	
		}
	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='invnormalCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Inverse Normal</button></li>
	<div id='invnormalCalcDiv' class='expandable'>
	<table>
	<tr><td>Mean: 			</td> <td><b>&mu;=</b> </td><td><input type='text' id='invnormalm' value="0" onkeydown='purge(invnormAnswerDiv);'></td></tr>
	<tr><td>Standard Deviation:  	</td> <td><b>&sigma;=</b></td><td><input type='text' id='invnormals' value="1" onkeydown='purge(invnormAnswerDiv);'></td></tr>
	<tr><td>
	<input type='radio' name='invnormtype' id='invnormleft' checked=true onclick='purge(invnormAnswerDiv);'><label for='invnormleft'>Left Tail</label>
	<input type='radio' name='invnormtype' id='invnormmiddle' onclick='purge(invnormAnswerDiv);'><label for='invnormmiddle'>Middle</label>
	<input type='radio' name='invnormtype' id='invnormright' onclick='purge(invnormAnswerDiv);'><label for='invnormright'>Right Tail</label>
	</td></tr>
	<tr><td><b></td><td>Area: </td><td><input type='text' id='invnormarea' value=".05" onkeydown='purge(invnormAnswerDiv);'></td></tr>
	</tr></table>
	<button onclick="calculateInverseNormalDistribution();">Calculate</button><br>
	<div id='invnormAnswerDiv' class='answerDiv'>
	<span id="invnormanswer"></span><br><canvas id='invnormalcanvas' width="400" height="200"></canvas>
	</div>
	</div>
	<script>

	function calculateInverseNormalDistribution(){
	try{
		var m=eval(invnormalm.value);
		var s=eval(invnormals.value);
		var a=eval(invnormarea.value);
		var i,z1,z2;

		if (!(s>0))
			alert('The standard deviation should be greater than 0;');
		else if (!((0<a) && (a<1)))
			alert('The area should be between 0 and 1.');
		else{
			if (invnormright.checked)
				a=1-a;
			else if (invnormmiddle.checked)
				a=(1-a)/2;
			var z=invnorm(a);
			if  (invnormmiddle.checked)
				invnormanswer.innerHTML=''+(m-s*abs(z)).TOFIXED(printPrecision)+' to '+(m+s*abs(z)).TOFIXED(printPrecision);
			else
				invnormanswer.innerHTML=''+(m+s*z).TOFIXED(printPrecision);
			var ctx=invnormalcanvas.getContext('2d');
			var w=invnormalcanvas.width;
			var h=invnormalcanvas.height;

			if (invnormleft.checked){
				z1=-9;
				z2=z;
			}
			else if (invnormright.checked){
				z1=z;
				z2=9;
			}
			else{
				z1=-abs(z);
				z2=abs(z);
			}

			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				ctx.lineTo(i,h-Math.ceil(h*normalpdf(z)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				if ((z1<=z) && (z<=z2))
					ctx.lineTo(i,h-Math.ceil(h*normalpdf(z)));
			}
			ctx.stroke();
				invnormAnswerDiv.style.display='block';
			}
		}

	catch(err){
		alert('Input Error.');
	}	
		}
	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='tCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,invtCalcDiv,chi2CalcDiv,invchi2CalcDiv'>t</button></li>
	<div id='tCalcDiv' class='expandable'>
	<table>
	<tr><td>Mean: 			</td> <td><b>&mu;=</b> </td><td><input type='text' id='tm' value="0" onkeydown='purge(tAnswerDiv);'></td></tr>
	<tr><td>Standard Deviation:  	</td> <td><b>&sigma;=</b></td><td><input type='text' id='ts' value="1" onkeydown='purge(tAnswerDiv);'></td></tr>
	<tr><td>Degrees of Freedom:  	</td> <td><b>df=</b></td><td><input type='text' id='tdf' value="10" onkeydown='purge(tAnswerDiv);'></td></tr>
	<tr><td><b>P(</b> <input type='text' id='ta' value="-1" onkeydown='purge(tAnswerDiv);'> </td><td>&lt; x &lt; </td><td><input type='text' id='tb' value="1" onkeydown='purge(tAnswerDiv);'><b>)</b></td>
	</tr>
	</table>
	<button onclick="calculateTDistribution();">Calculate</button><br>
	<div id='tAnswerDiv' class='answerDiv'>
	<span id="tanswer"></span><br>
	<canvas id='tcanvas' width="400" height="200"></canvas>
	</div>
	</div>
<script>

	function calculateTDistribution(){
	try{
		var m=eval(tm.value);
		var s=eval(ts.value);
		var a=eval(ta.value);
		var df=eval(tdf.value);
		var b=eval(tb.value);

		if (!(s>0))
			alert('The standard deviation should be greater than 0.');
		else{
			var z1=(a-m)/s;
			var z2=(b-m)/s;
			tanswer.innerHTML='Probability='+tcdf(z1,z2,df).TOFIXED(printPrecision);
			tAnswerDiv.style.display='block';
			}
//==========================
			var ctx=tcanvas.getContext('2d');
			var w=tcanvas.width;
			var h=tcanvas.height;
			var i,z;

			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				ctx.lineTo(i,h-Math.ceil(h*tpdf(z,df)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				if ((z1<=z) && (z<=z2))
					ctx.lineTo(i,h-Math.ceil(h*tpdf(z,df)));
			}
			ctx.stroke();
			tAnswerDiv.style.display='block';
//=========================

	}
	
	catch(err){
		alert('Input Error.');
	}	
		}
</script>

<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='invtCalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,chi2CalcDiv,invchi2CalcDiv'>Inverse t</button></li>
	<div id='invtCalcDiv' class='expandable'>
	<table>
	<tr><td>Mean: 			</td> <td><b>&mu;=</b> </td><td><input type='text' id='invtm' value="0" onkeydown='purge(invtAnswerDiv);'></td></tr>
	<tr><td>Standard Deviation:  	</td> <td><b>&sigma;=</b></td><td><input type='text' id='invts' value="1" onkeydown='purge(invtAnswerDiv);'></td></tr>
	<tr><td>Degrees of Freedom:  	</td> <td><b>df=</b></td><td><input type='text' id='invtdf' value="10" onkeydown='purge(invtAnswerDiv);'></td></tr>
	<tr><td>
	<input type='radio' name='invttype' id='invtleft' checked=true onclick='purge(invtAnswerDiv);'><label for='invtleft'>Left Tail</label>
	<input type='radio' name='invttype' id='invtmiddle' onclick='purge(invtAnswerDiv);'><label for='invtmiddle'>Middle</label>
	<input type='radio' name='invttype' id='invtright' onclick='purge(invtAnswerDiv);'><label for='invtright'>Right Tail</label>
	</td></tr>
	<tr><td><b></td><td>Area: </td><td><input type='text' id='invtarea' value=".05" onkeydown='purge(invtAnswerDiv);'></td></tr>
	</tr></table>
	<button onclick="calculateInverseTDistribution();">Calculate</button><br>
	<div id='invtAnswerDiv' class='answerDiv'>
	<span id="invtanswer"></span><br><canvas id='invtcanvas' width="400" height="200"></canvas>
	</div>
	</div>

	<script>

	function calculateInverseTDistribution(){
	try{
		var m=eval(invtm.value);
		var s=eval(invts.value);
		var df=eval(invtdf.value);
		var a=eval(invtarea.value);
		var i,z1,z2;

		if (!(s>0))
			alert('The standard deviation should be greater than 0;');
		else if (!((0<a) && (a<1)))
			alert('The area should be between 0 and 1.');
		else{
			if (invtright.checked)
				a=1-a;
			else if (invtmiddle.checked)
				a=(1-a)/2;
			var z=invt(a,df); console.log('back from invt');
			if  (invnormmiddle.checked)
				invtanswer.innerHTML=''+(m-s*abs(z)).TOFIXED(printPrecision)+' to '+(m+s*abs(z)).TOFIXED(printPrecision);
			else
				invtanswer.innerHTML=''+(m+s*z).TOFIXED(printPrecision);
			var ctx=invtcanvas.getContext('2d');
			var w=invtcanvas.width;
			var h=invtcanvas.height;

			if (invtleft.checked){
				z1=-9;
				z2=z;
			}
			else if (invtright.checked){
				z1=z;
				z2=9;
			}
			else{
				z1=-abs(z);
				z2=abs(z);
			}

			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				ctx.lineTo(i,h-Math.ceil(h*tpdf(z,df)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				if ((z1<=z) && (z<=z2))
					ctx.lineTo(i,h-Math.ceil(h*tpdf(z,df)));
			}
			ctx.stroke();
				invtAnswerDiv.style.display='block';
			}
		}

	catch(err){
		alert('Input Error.');
	}	
		}
	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='chi2CalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,invchi2CalcDiv'>&chi;<sup>2</sup></button></li>
	<div id='chi2CalcDiv' class='expandable'>
	<table>
	<tr><td>Degrees of Freedom:  	</td> <td><b>df=</b></td><td><input type='text' id='chi2df' value="10" onkeydown='purge(chi2AnswerDiv);'></td></tr>
	<tr><td><b>P(</b> <input type='text' id='chi2a' value="0" onkeydown='purge(chi2AnswerDiv);'> </td><td>&lt; x &lt; </td><td><input type='text' id='chi2b' value="10" onkeydown='purge(chi2AnswerDiv);'><b>)</b></td>
	</tr>
	</table>
	<button onclick="calculateChi2Distribution();">Calculate</button><br>
	<div id='chi2AnswerDiv' class='answerDiv'>
	<span id="chi2answer"></span><br>
	<canvas id='chi2canvas' width="400" height="200"></canvas>
	</div>
	</div>
<script>

	function calculateChi2Distribution(){
	try{
		var a=eval(chi2a.value);
		var df=eval(chi2df.value);
		var b=eval(chi2b.value);
			{
			chi2answer.innerHTML='Probability='+(chi2cdf(b,df)-chi2cdf(a,df)).TOFIXED(printPrecision);
			chi2AnswerDiv.style.display='block';
			}
//==========================
			var ctx=chi2canvas.getContext('2d');
			var w=chi2canvas.width;
			var h=chi2canvas.height;
			var i,z;
			var M;
			if (df>2) M=chi2pdf(df-2, df);
			else M=0.5;
			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i)*(3*df)/w;
				ctx.lineTo(i,h-Math.ceil(h*chi2pdf(z,df)/M));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i)*(3*df)/w;
				if ((a<=z) && (z<=b))
					ctx.lineTo(i,h-Math.ceil(h*chi2pdf(z,df)/M));
			}
			ctx.stroke();
			chi2AnswerDiv.style.display='block';
//=========================

	}
	
	catch(err){
		alert('Input Error.');
	}	
		}
</script>

<!--------------------------------------------------------------------------------------------------------------------------------------------->
<li><button class='expander' data-open='invchi2CalcDiv' data-close='binomialCalcDiv,poissonCalcDiv,normalCalcDiv,invnormalCalcDiv,tCalcDiv,invtCalcDiv,chi2CalcDiv'>Inverse &chi;<sup>2</sup></button></li>
	<div id='invchi2CalcDiv' class='expandable'>
	<table>
	<tr><td>Degrees of Freedom:  	</td> <td><b>df=</b></td><td><input type='text' id='invchi2df' value="10" onkeydown='purge(invchi2AnswerDiv);'></td></tr>
	<tr><td>
	<input type='radio' name='invttype' id='invchi2left' checked=true onclick='purge(invchi2AnswerDiv);'><label for='invchi2left'>Left Tail</label>
	<input type='radio' name='invttype' id='invchi2middle' onclick='purge(invchi2AnswerDiv);'><label for='invchi2middle'>Middle</label>
	<input type='radio' name='invttype' id='invchi2right' onclick='purge(invchi2AnswerDiv);'><label for='invchi2right'>Right Tail</label>
	</td></tr>
	<tr><td><b></td><td>Area: </td><td><input type='text' id='invchi2area' value=".05" onkeydown='purge(invchi2AnswerDiv);'></td></tr>
	</tr></table>
	<button onclick="calculateInverseChi2Distribution();">Calculate</button><br>
	<div id='invchi2AnswerDiv' class='answerDiv'>
	<span id="invchi2answer"></span><br><canvas id='invchi2canvas' width="400" height="200"></canvas>
	</div>
	</div>

	<script>

	function calculateInverseChi2Distribution(){
	try{
		var df=eval(invchi2df.value);
		var a=eval(invchi2area.value);
		var i,z1,z2;
		var left, right;

		if (!((0<a) && (a<1)))
			alert('The area should be between 0 and 1.');
		else{
			if (invchi2right.checked){
				a=1-a;
				left=invchi2(a, df);
				right=Infinity;
			}	
			else if (invchi2middle.checked){
				a=(1-a)/2;
				left=invchi2(a, df);
				right=invchi2(1-a, df);
			}	
			else{
				left=0;
				right=invchi2(a, df);
			}
			invchi2answer.innerHTML=''+(left).TOFIXED(printPrecision)+' to '+(right).TOFIXED(printPrecision);

//==========================
			var ctx=invchi2canvas.getContext('2d');
			var w=invchi2canvas.width;
			var h=invchi2canvas.height;
			var i,z;
			var M;
			if (df>2) M=chi2pdf(df-2, df);
			else M=0.5;
			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i)*(3*df)/w;
				ctx.lineTo(i,h-Math.ceil(h*chi2pdf(z,df)/M));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i)*(3*df)/w;
				if ((left<=z) && (z<=right))
					ctx.lineTo(i,h-Math.ceil(h*chi2pdf(z,df)/M));
			}
			ctx.stroke();
			invchi2AnswerDiv.style.display='block';
		}	
//=========================
		}

	catch(err){
		alert('Input Error.');
	}	
		}
	</script>
<!--------------------------------------------------------------------------------------------------------------------------------------------->
</ul>
</div>
</div> <!--distribution div--> 
<!--distribution calculators--------------------------------------->


<!--intervals-------------------------------------------------------->
<div id='intervalsDiv' class='pageDiv expandable'>
<div class='pageMenu'>
<button class='expander' data-open='propIntervalDiv,intervalCLDiv' data-close='meanIntervalDiv,bootIntervalDiv'>Proportion</button>
<button class='expander' data-open='meanIntervalDiv,intervalCLDiv' data-close='propIntervalDiv,bootIntervalDiv'>Mean</button>
<button class='expander' data-open='bootIntervalDiv,intervalCLDiv' data-close='meanIntervalDiv,propIntervalDiv'>Bootstrap</button>
</div>
<div class='subPage'>


<div id='intervalCLDiv'>
	Confidence Level: <input type='text' id='intervalcl' value="0.95" onclick='purge(pintervalanswer);purge(tintervalssanswer);purge(bootintervalssanswer);'>
</div>

<!------------------------------------------------------------------------------------------------------------------------>
	<div id='propIntervalDiv' class='expandable'>
	<table>
	<tr><td>Successes:</td> <td>x=</td><td><input type='text' id='pintervalx' value="10" onkeydown='purge(pintervalanswer);'></td></tr>
	<tr><td>Sample Size:</td><td>n=</td><td><input type='text' id='pintervaln' value="100" onkeydown='purge(pintervalanswer);'></td></tr>
	</table>
	<button onclick='CalculatePInterval();'>Calculate</button>
	<div id='pintervalanswer' class='answerDiv'></div>
		</div>
	<script>
	function CalculatePInterval(){
	try{
		var x=eval(pintervalx.value);
		var n=eval(pintervaln.value);
		var cl=eval(intervalcl.value);

		if (!(n>0))
			alert('The sample size should be greater than 0.');
		else if(!(x>0))
			alert('The number of successes should be greater than 0.');
		else if (!(x<n))
			alert('The number of successes should be less than the sample size.');
		else if (!((0<cl) && (cl<1)))
			alert('The confidence level should be between 0 and 1.');
		else {
			var z=abs(invnorm((1-cl)/2));
			var p=x/n;
			var e=z*sqrt(p*(1-p)/n);
			pintervalanswer.innerHTML=(p-e).TOFIXED(printPrecision)+' &lt; p &lt; '+(p+e).TOFIXED(printPrecision)+'<br>E='+e.TOFIXED(printPrecision);
			pintervalanswer.style.display='block';
		}
	}
	catch(err){
		alert('Input Error.');
	}	
	}
	</script>		
<!------------------------------------------------------------------------------------------------------------------------>

	<div id='meanIntervalDiv' class='expandable'>
	<table>
	<tr><td>Sample Mean:</td><td>x&#772;=</td><td><input type='text' id='tintervalssm' value="100" onkeydown='purge(tintervalssanswer);'></td></tr>
	<tr><td>Standard Deviation:</td> <td>s=</td><td><input type='text' id='tintervalsss' value="10" onkeydown='purge(tintervalssanswer);'></td></tr>
	<tr><td>Sample Size:</td><td>n=</td><td><input type='text' id='tintervalssn' value="100" onkeydown='purge(tintervalssanswer);'></td></tr>
	</table>
	
	<button class='expander' data-open='populateTIntervalStatsDiv'>Select Data List</button><br>
	<div id='populateTIntervalStatsDiv' class='expandable'> 
		Data List: <br><script>printRadioList('interval')</script><br>
		<button onclick='populateTIntervalStats();' >Populate Summary Stats</button><br>
	</div>
	<button onclick='CalculateTIntervalFromSummaryStatistics();' >Calculate</button>
	<div id='tintervalssanswer' class='answerDiv'></div>
	</div>
	<script>
	function CalculateTIntervalFromSummaryStatistics(){
	try{
		var m=eval(tintervalssm.value); 
		var s=eval(tintervalsss.value);
		var n=eval(tintervalssn.value);
		var cl=eval(intervalcl.value);
		if (isNaN(m*s*n*cl)) alert('Input Error.');
		else if (!(n>0))
			alert('The sample size should be greater than 0.');
		else if (!(s>0))
			alert('The standard deviation should be greater than 0.');
		else if (!((0<cl) && (cl<1)))
			alert('The confidence level should be between 0 and 1.');
		else{
			var t=abs(invt(0.5*(1-cl), n-1));
			var e=t*s/sqrt(n);
			tintervalssanswer.innerHTML=(m-e).TOFIXED(printPrecision)+' &lt; &mu; &lt; '+(m+e).TOFIXED(printPrecision)+'<br>E='+e.TOFIXED(printPrecision);
			tintervalssanswer.style.display='block';
		}
	}
	catch(err){
		alert('Input Error.');
	}	
	}

	function populateTIntervalStats(){
		var inlist=0;
		var i;
		i=getChecked('interval');
//		for (i=0;i<intervalradios.length;i++)
//			if (intervalradios[i].checked) inlist=i;
		if (listN[inlist]>0){
			tintervalssm.value=listM[inlist];
			tintervalsss.value=listS[inlist];
			tintervalssn.value=listN[inlist];
			populateTIntervalStatsDiv.style.display='none';
		}
		else alert('That list is empty.');
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------>
	<div id='bootIntervalDiv' class='expandable'>
	Data List: <br><script>printRadioList('bootinterval')</script><br>
	<button onclick='calculateBootInterval();' >Calculate</button>
	<div id='bootintervalssanswer' class='answerDiv'></div>
	</div>
	<script>
	function calculateBootInterval(){
	try{
		var inlist=0;
		var i,j,r;
		var numSamples=1000;
		var sortedArray;
		var lowerLimit, uperLimit, margin;
		var cl=eval(intervalcl.value);
		var left=(1-cl)/2;
		var right=1-left;
		//for (i=0;i<intervalradios.length;i++)
		//	if (intervalradios[i].checked) inlist=i;
		inlist=getChecked('bootinterval');
		if (listN[inlist]>0){
			var n=listN[inlist];
			var sampleMeans=[];
			var sample=[];
			for (i=0;i<numSamples;i++){
				sample=[];
				for (j=0;j<n;j++)
					sample.push(list[inlist][floor(random()*n)]);
				r=summarizeArray(sample);
				sampleMeans.push(r.m);
			}
			sortedArray=sampleMeans.toSorted(function(a, b){return a - b});
			lowerLimit=percentileSorted(sortedArray, left);
			upperLimit=percentileSorted(sortedArray, right);
			margin=(upperLimit-lowerLimit)/2;
			bootintervalssanswer.innerHTML=(lowerLimit).TOFIXED(printPrecision)+' &lt; &mu; &lt; '+(upperLimit).TOFIXED(printPrecision)+'<br>E='+margin.TOFIXED(printPrecision);
			bootintervalssanswer.style.display='block';
		}
		else alert('That list is empty.');
		}

	catch(err){
		alert('Input Error.');
	}	
	}	
	</script>
<!------------------------------------------------------------------------------------------------------------------------>
	
</div>
</div> <!-- intervalsdiv -->
<!--intervals-------------------------------------------------------->


<!--tests------------------------------------------------------------->
<div id='testsDiv' class='pageDiv expandable'>
<div class='pageMenu expandable'>
<table>
<tr>
<td><button class='expander' data-open='onepropDiv' data-close='twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>One Proportion</button></td>
<td><button class='expander' data-open='twopropDiv' data-close='onepropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Two Proportions</button> </td>
</tr><tr>
<td><button class='expander' data-open='onemeanDiv' data-close='onepropDiv,twopropDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>One Mean</button></td>
<td><button class='expander' data-open='twomeanDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Two Independent Means</button></td>
<td><button class='expander' data-open='matchedDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Matched Pairs</button></td>
</tr><tr>
<td><button class='expander' data-open='anovaDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>ANOVA</button> </td>
<td><button class='expander' data-open='bootTestDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,gofDiv,contingencyDiv,correlationDiv'>Bootstrap</button></td>
</tr><tr>
<td><button class='expander' data-open='gofDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,contingencyDiv,correlationDiv'>Goodness of Fit</button></td>
<td><button class='expander' data-open='contingencyDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,correlationDiv'>Contingency</button></td>
</tr><tr>
<td><button class='expander' data-open='correlationDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv'>Correlation</button></td>
</tr>
</table>
</div>

<ul>
<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='onepropDiv' data-close='twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>One Proportion</button></li>

	<div id='onepropDiv' class='expandable'>
	<table>
	<tr><td>Successes:</td> <td>x=</td>									<td><input type='text' id='propx' value="50" onkeydown='purge(propAnswerDiv);'></td></tr>
	<tr><td>Sample Size:</td><td>n=</td>									<td><input type='text' id='propn' value="100" onkeydown='purge(propAnswerDiv);'></td></tr>
	</table>
	<table>
	<tr><td>H<sub>0</sub>:</td>	<td></td><td>&nbsp;&leq;&nbsp;</td><td>&nbsp;=&nbsp;</td><td>&nbsp;&geq;&nbsp;</td></tr>
	<tr><td></td>	<td>p</td>
	<td><input type='radio' name='proptype' id='propgt' checked=true onclick='purge(propAnswerDiv);'></td>
	<td><input type='radio' name='proptype' id='propne' onclick='purge(propAnswerDiv);'></td>
	<td><input type='radio' name='proptype' id='proplt' onclick='purge(propAnswerDiv);'></td>
	<td><input type='text' id='propcp' value='0.5' onkeydown='purge(propAnswerDiv);'></td>
	</tr>
	<tr><td>H<sub>1:</sub></td><td></td>	<td>&nbsp;&gt;&nbsp;</td><td>&nbsp;&ne;&nbsp;</td><td>&nbsp;&lt;&nbsp;</td></tr>
	</table>
	<button onclick='CalculateOneProp();'>Calculate</button><br>
	<div id='propAnswerDiv' class='answerDiv expandable'>
	<div id='propanswer'></div>
	<canvas id='propcanvas' width="400" height="100"></canvas>
	</div>
	</div>
	<script>
	function CalculateOneProp(){
	try{
		var n=eval(propn.value);
		var x=round(eval(propx.value));
		if (!(n>0)) alert ('The sample size should be a positive integer.');
	//	else if (!(x>0)) alert('The number of successes should be a positive integer.');
		else{
			var phat=x/n;

			var m=phat;
			var hm=eval(propcp.value);
			if (!((hm>0)&&(hm<1))) alert('The claimed proportion should be between 0 and 1.');
			else{
				var p=hm;
				var s=sqrt(p*(1-p));

				var z,z1,z2;
				z=(m-hm)/(s/sqrt(n));
				if (proplt.checked){
					p=normalcdf(z);
					z1=-9;
					z2=z;
					}
				else if (propgt.checked){
					p=1-normalcdf(z);
					z1=z;
					z2=9;
					}
				else{
					p=2*normalcdf(-abs(z));
					z1=-9;
					z2=-abs(z);
					}
				propanswer.innerHTML='P='+p.TOFIXED(printPrecision)+'<br>z='+z.TOFIXED(printPrecision);
				var i;
				var can=propcanvas;
				var ctx=can.getContext('2d');
				var w=can.width;
				var h=can.height;

				ctx.strokeStyle='gray';
				ctx.fillStyle='white';
				ctx.lineWidth=1;
				ctx.fillRect(0,0,w,h);
				ctx.beginPath();
				for (i=0;i<=w;i++){
					ctx.moveTo(i,h);
					z=(i-w/2)/(w/6);
					ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
				}
				ctx.stroke();

				ctx.strokeStyle='black';
				ctx.beginPath();
				for (i=0;i<=w;i++){
					ctx.moveTo(i,h);
					z=(i-w/2)/(w/6);
					if ((z1<=z) && (z<=z2))
						ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
				}
				if (propne.checked){
					z1=abs(z2);
					z2=9;
					for (i=0;i<=w;i++){
						ctx.moveTo(i,h);
						z=(i-w/2)/(w/6);
						if ((z1<=z) && (z<=z2))
							ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
					}
					
				}
				ctx.stroke();
				propAnswerDiv.style.display='block';
			}
		}
	}
	catch(err){
		alert('Input Error.');
	}		
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>

<li><button class='expander' data-open='onemeanDiv' data-close='meanTestDataListDiv,onepropDiv,twopropDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>One Mean</button></li>

	<div id='onemeanDiv' class='expandable'>
	<table>
	<tr><td>Sample Mean:</td><td>x&#772;=</td><td><input type='text' id='ttestssm' value="100" onkeydown='purge(ttestssAnswerDiv);'></td></tr>
	<tr><td>Standard Deviation:</td> <td>s=</td><td><input type='text' id='ttestsss' value="10" onkeydown='purge(ttestssAnswerDiv);'></td></tr>
	<tr><td>Sample Size:</td><td>n=</td><td><input type='text' id='ttestssn' value="100" onkeydown='purge(ttestssAnswerDiv);'></td></tr>
	</table>
	<table>
	<tr><td>H<sub>0</sub>:</td>	<td></td><td>&nbsp;&leq;&nbsp;</td><td>&nbsp;=&nbsp;</td><td>&nbsp;&geq;&nbsp;</td></tr>
	<tr><td></td>	<td>&mu;</td>
	<td><input type='radio' name='ttestsstype' id='ttestssgt' checked=true onclick='purge(ttestssAnswerDiv);'></td>
	<td><input type='radio' name='ttestsstype' id='ttestssne' onclick='purge(ttestssAnswerDiv);'></td>
	<td><input type='radio' name='ttestsstype' id='ttestsslt' onclick='purge(ttestssAnswerDiv);'></td>
	<td><input type='text' id='ttestssclaimedm' value='100' onkeydown='purge(ttestssAnswerDiv);'></td>
	</tr>
	<tr><td>H<sub>1:</sub></td><td></td>	<td>&nbsp;&gt;&nbsp;</td><td>&nbsp;&ne;&nbsp;</td><td>&nbsp;&lt;&nbsp;</td></tr>
	</table>
	<button class='expander' data-open='meanTestDataListDiv' >Select Data List</button><br>
	<div id='meanTestDataListDiv' class='expandable'>
	Data List: <br>
	<script>printRadioList('meantest');</script>
	<button onclick='populateMeanTestStats();' >Populate Summary Stats</button><br>
	</div>		
	<button onclick='CalculateTTestFromSummaryStatistics();'>Calculate</button>
	<div id='ttestssAnswerDiv' class='answerDiv expandable'>
	<div id='ttestssanswer'></div>
	<canvas id='ttestsscanvas' width="400" height="100"></canvas>
	</div>
	</div>
	<script>
	function CalculateTTestFromSummaryStatistics(){
	try{
		var m=eval(ttestssm.value);
		var hm=eval(ttestssclaimedm.value);
		var s=eval(ttestsss.value);
		var n=eval(ttestssn.value);
		var z,p,z1,z2;
		
		if (isNaN(m*hm*s*n)) alert('Input Error.');
		else if (!(n>0)) alert('The sample size should be a positive number.');
		else if (!(s>0)) alert('The standard deviation should be a positive number.');
		else{
			z=(m-hm)/(s/sqrt(n));
			if (ttestsslt.checked){
				p=tcdf(z,n-1);
				z1=-9;
				z2=z;
				}
			else if (ttestssgt.checked){
				p=1-tcdf(z,n-1);
				z1=z;
				z2=9;
				}
			else{
				p=2*tcdf(-abs(z),n-1);
				z1=-9;
				z2=-abs(z);
				}
			ttestssanswer.innerHTML='P='+p.TOFIXED(printPrecision)+'<br>t='+z.TOFIXED(printPrecision);

			var i;
			var ctx=ttestsscanvas.getContext('2d');
			var w=ttestsscanvas.width;
			var h=ttestsscanvas.height;

			ctx.strokeStyle='gray';
			ctx.fillStyle='white';
			ctx.lineWidth=1;
			ctx.fillRect(0,0,w,h);
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
			}
			ctx.stroke();

			ctx.strokeStyle='black';
			ctx.beginPath();
			for (i=0;i<=w;i++){
				ctx.moveTo(i,h);
				z=(i-w/2)/(w/6);
				if ((z1<=z) && (z<=z2))
					ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
			}
			if (ttestssne.checked){
				z1=abs(z2);
				z2=9;
				for (i=0;i<=w;i++){
					ctx.moveTo(i,h);
					z=(i-w/2)/(w/6);
					if ((z1<=z) && (z<=z2))
						ctx.lineTo(i,h-Math.ceil(200*normalpdf(z)));
				}
			}
			ctx.stroke();
			ttestssAnswerDiv.style.display='block';
		}
	}
	catch(err){
		alert('Input Error.');
	}	
	}

	function populateMeanTestStats(){
		var inlist=0;
		var i;
		inlist=getChecked('meantest');
		if (listN[inlist]==0) alert ('That list is empty.');
		else{
			ttestssm.value=listM[inlist];
			ttestsss.value=listS[inlist];
			ttestssn.value=listN[inlist];
			meanTestDataListDiv.style.display='none';
		}
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>

<li><button class='expander' data-open='twopropDiv' data-close='onepropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Two Proportions</button></li>

	<div id='twopropDiv' class='expandable'>
	<table border=1>
	<tr><th>Sample 1</th><th>Sample 2</th></tr>
	<tr><td>
	<table>
	<tr><td>Successes:</td> <td>x<sub>1</sub>=</td>									<td><input type='text' id='twopropx1' value="45" onkeydown='purge(twopropanswer);'></td></tr>
	<tr><td>Sample Size:</td><td>n<sub>1</sub>=</td>									<td><input type='text' id='twopropn1' value="100" onkeydown='purge(twopropanswer);'></td></tr>
	</table>
	</td><td>
	<table>
	<tr><td>Successes:</td> <td>x<sub>2</sub>=</td>									<td><input type='text' id='twopropx2' value="50" onkeydown='purge(twopropanswer);'></td></tr>
	<tr><td>Sample Size:</td><td>n<sub>2</sub>=</td>									<td><input type='text' id='twopropn2' value="100" onkeydown='purge(twopropanswer);'></td></tr>
	</table>
	</td><tr>
	</table>

	<table>
	<tr><td>H<sub>0</sub>:</td>	<td></td><td>&nbsp;&leq;&nbsp;</td><td>&nbsp;=&nbsp;</td><td>&nbsp;&geq;&nbsp;</td></tr>
	<tr><td></td>	<td>p<sub>1</sub></td>
	<td><input type='radio' name='twoproptype' id='twopropgt' checked=true onclick='purge(twopropanswer);'></td>
	<td><input type='radio' name='twoproptype' id='twopropne' onclick='purge(twopropanswer);'></td>
	<td><input type='radio' name='twoproptype' id='twoproplt' onclick='purge(twopropanswer);'></td>
	<td>p<sub>2</sub></td>
	</tr>
	<tr><td>H<sub>1:</sub></td><td></td>	<td>&nbsp;&gt;&nbsp;</td><td>&nbsp;&ne;&nbsp;</td><td>&nbsp;&lt;&nbsp;</td></tr>
	</table>
	<button onclick='CalculateTwoProp();'>Calculate</button>
	<div id='twopropanswer' class='answerDiv expandable' ></div>
	</div>
	<script>
	function CalculateTwoProp(){
	try{
		var i,n1,p,p1hat,x1,n2,p2hat,x2;

		n1=eval(twopropn1.value);
		x1=round(eval(twopropx1.value));
		n2=eval(twopropn2.value);
		x2=round(eval(twopropx2.value));
		if (!(n1>0) || !(n2>0)) alert('The sample size should be positive.');
		else if (!(x1>0) || !(x2>0)) alert('The number of successes should be positive.');
		else{
			p1hat=x1/n1;
			p2hat=x2/n2;
			p=(x1+x2)/(n1+n2);

			var m=p1hat-p2hat;
			var hm=0;
			var s=sqrt(p*(1-p));
			var n=n1*n2/(n1+n2);

			var z,z1,z2;
			z=(m-hm)/(s/sqrt(n));
			if (twoproplt.checked){
				p=normalcdf(z);
				z1=-9;
				z2=z;
				}
			else if (twopropgt.checked){
				p=1-normalcdf(z);
				z1=z;
				z2=9;
				}
			else{
				p=2*normalcdf(-abs(z));
				z1=-9;
				z2=-abs(z);
				}
			twopropanswer.innerHTML='P='+p.TOFIXED(printPrecision)+'<br>z='+z.TOFIXED(printPrecision);
			twopropanswer.style.display='block';
		}
	}
	catch(err){
		alert('Input Error.');
	}		
	}
	</script>
<!------------------------------------------------------------------------------------------------------------------------------------>

<li><button class='expander' data-open='twomeanDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Two Independent Means</button></li>

	<div id='twomeanDiv' class='expandable'>

<table border=1>
<tr><th>Sample 1</th><th>Sample 2</th></tr>
<tr><td>
<table>
<tr><td>Sample Mean:</td><td><font style='text-decoration: overline;'>X</font><sub>1</sub>=</td>	<td><input type='text' id='t2testssm1' value="100" onkeydown='purge(t2testssanswer);'></td></tr>
<tr><td>Standard Deviation:</td> <td>s<sub>1</sub>=</td>									<td><input type='text' id='t2testsss1' value="10" onkeydown='purge(t2testssanswer);'></td></tr>
<tr><td>Sample Size:</td><td>n<sub>1</sub>=</td>										<td><input type='text' id='t2testssn1' value="100" onkeydown='purge(t2testssanswer);'></td></tr>
</table>
	<button class='expander' data-open='meanTest2LeftDataListDiv' >Select Data List</button><br>
	<div id='meanTest2LeftDataListDiv' class='expandable'>
	Data List: <br>
	<script>printRadioList('meantest2left');</script>
	<button onclick='populateMeanTest2Stats(1);' >Populate Summary Stats</button><br>
	</div>		

</td><td>
<table>
<tr><td>Sample Mean:</td><td><font style='text-decoration: overline;'>X</font><sub>2</sub>=</td>	<td><input type='text' id='t2testssm2' value="100" onkeydown='purge(t2testssanswer);'></td></tr>
<tr><td>Standard Deviation:</td> <td>s<sub>2</sub>=</td>									<td><input type='text' id='t2testsss2' value="10" onkeydown='purge(t2testssanswer);'></td></tr>
<tr><td>Sample Size:</td><td>n<sub>2</sub>=</td>										<td><input type='text' id='t2testssn2' value="100" onkeydown='purge(t2testssanswer);'></td></tr>
</table>
	<button class='expander' data-open='meanTest2RightDataListDiv' >Select Data List</button><br>
	<div id='meanTest2RightDataListDiv' class='expandable'>
	Data List: <br>
	<script>printRadioList('meantest2right');</script>
	<button onclick='populateMeanTest2Stats(2);' >Populate Summary Stats</button><br>
	</div>
</td><tr>
</table>

<table>
<tr><td>H<sub>0</sub>:</td>	<td></td><td>&nbsp;&leq;&nbsp;</td><td>&nbsp;=&nbsp;</td><td>&nbsp;&geq;&nbsp;</td></tr>
<tr><td></td>	<td>&mu;<sub>1</sub></td>
<td><input type='radio' name='t2testsstype' id='t2testssgt' checked=true onclick='purge(t2testssanswer);'></td>
<td><input type='radio' name='t2testsstype' id='t2testssne' onclick='purge(t2testssanswer);'></td>
<td><input type='radio' name='t2testsstype' id='t2testsslt' onclick='purge(t2testssanswer);'></td>
<td>&mu;<sub>2</sub></td>
</tr>
<tr><td>H<sub>1:</sub></td><td></td>	<td>&nbsp;&gt;&nbsp;</td><td>&nbsp;&ne;&nbsp;</td><td>&nbsp;&lt;&nbsp;</td></tr>
</table>
<button onclick='CalculateT2TestFromSummaryStatistics();'>Calculate</button>
<div id='t2testssanswer' class='answerDiv'></div>

	</div>

<script>

function CalculateT2TestFromSummaryStatistics(){
try{
	var m1=eval(t2testssm1.value);
	var s1=eval(t2testsss1.value);
	var n1=eval(t2testssn1.value);
	var m2=eval(t2testssm2.value);
	var s2=eval(t2testsss2.value);
	var n2=eval(t2testssn2.value);
	
	if (isNaN(m1*s1*n1*m2*s2*n2)) alert('Input Error.');
	else if (!(n1>0) || !(n2>0)) alert('The sample size should be positive');
	else if (!(s1>0) || !(s2>0)) alert('The standard deviation should be positive');
	else{
		var m=m1-m2;
		var hm=0;
		var a=s1*s1/n1;
		var b=s2*s2/n2;
		var n=round(((a+b)*(a+b)/((a*a/(n1-1))+(b*b/(n2-1))))+1);
		var s=sqrt(n*((s1*s1/n1)+(s2*s2/n2)));

		var z,p;
		z=(m-hm)/(s/sqrt(n));
		if (t2testsslt.checked)
			p=tcdf(z,n-1);
		else if (t2testssgt.checked)
			p=1-tcdf(z,n-1);
		else
			p=2*tcdf(-abs(z),n-1);
		t2testssanswer.innerHTML='P='+p.TOFIXED(printPrecision)+'<br>t='+z.TOFIXED(printPrecision);
		t2testssanswer.style.display='block';
	}
}
catch(err){
	alert('Input Error.');
}	
}
	function populateMeanTest2Stats(d){
		var inlist=0;
		var i;
		if (d==1){
		inlist=getChecked('meantest2left');
			if (listN[inlist]==0) alert ('That list is empty.');
			else{
				t2testssm1.value=listM[inlist];
				t2testsss1.value=listS[inlist];
				t2testssn1.value=listN[inlist];
				meanTest2LeftDataListDiv.style.display='none';
			}		
		}
		else{
			inlist=getChecked('meantest2right');
			if (listN[inlist]==0) alert ('That list is empty.');
			else{
				t2testssm2.value=listM[inlist];
				t2testsss2.value=listS[inlist];
				t2testssn2.value=listN[inlist];
				meanTest2RightDataListDiv.style.display='none';
			}
		}
	}
</script>

<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='matchedDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>Matched Pairs</button></li>

	<div id='matchedDiv' class='expandable'>
	<table>
	<tr><td>List 1:</td>
	<td>
	<script>printRadioList('mpradio1');</script></td></tr>
	<tr><td>List 2:</td>
	<td><script>printRadioList('mpradio2');</script></td></tr>
	</table>


<table>
<tr><td>H<sub>0</sub>:</td>	<td></td><td>&nbsp;&leq;&nbsp;</td><td>&nbsp;=&nbsp;</td><td>&nbsp;&geq;&nbsp;</td></tr>
<tr><td></td>	<td>&mu;<sub>d</sub></td>
<td><input type='radio' name='mptype' id='mpgt' checked=true onclick='purge(mpanswer);'></td>
<td><input type='radio' name='mptype' id='mpne' onclick='purge(mpanswer);'></td>
<td><input type='radio' name='mptype' id='mplt' onclick='purge(mpanswer);'></td>
<td>0</td>
</tr>
<tr><td>H<sub>1:</sub></td><td></td>	<td>&nbsp;&gt;&nbsp;</td><td>&nbsp;&ne;&nbsp;</td><td>&nbsp;&lt;&nbsp;</td></tr>
</table>
<button onclick='CalculateMP();'>Calculate</button>
<div id='mpanswer' class='answerDiv'></div>
	</div>
	
<script>
function CalculateMP(){
try{
	var i=getChecked('mpradio1');
	var j=getChecked('mpradio2');;
	var k;
	if (i==j) alert('Select two different lists.');
	else if(listN[i]*listN[j]==0) alert('One of your lists is empty.');
	else if (listN[i]!=listN[j]) alert('Your lists need to be the same length.');
	else{	
		var a=[];
		for (k=0;k<listN[i];k++)
			a[k]=list[i][k]-list[j][k];
		var r=summarizeArray(a);

		var m=r.m;
		var hm=0;
		var s=r.s; 
		var n=r.n;
		var z,p,z1,z2;
		z=(m-hm)/(s/sqrt(n));
		if (mplt.checked){
			p=tcdf(z,n-1);
			z1=-9;
			z2=z;
			}
		else if (mpgt.checked){
			p=1-tcdf(z,n-1);
			z1=z;
			z2=9;
			}
		else{
			p=2*tcdf(-abs(z),n-1);
			z1=-9;
			z2=-abs(z);
			}
		mpanswer.innerHTML='P='+p.TOFIXED(printPrecision)+'<br>t='+z.TOFIXED(printPrecision);
		mpanswer.style.display='block';
	}
}
catch(err){
	alert('Input Error.');
}		
}
</script>

<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='correlationDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,contingencyDiv'>Correlation</button></li>

	<div id='correlationDiv' class='expandable'>
	
	<table>
	<tr><td>X:</td>
	<td><script>printRadioList('corradiox');</script></td></tr>
	<tr><td>Y:</td>
	<td><script>printRadioList('corradioy');</script></td></tr>
	</table>
<br>
<button onclick='CalculateCorrelation();'>Calculate</button>
<div id='coranswerDiv' class='answerDiv'>
<div id='coranswer'></div>
<canvas id='corcanvas' width=400 height=400></canvas>
</div>


<script>

function CalculateCorrelation(){
try{
	var l1=getChecked('corradiox');
	var l2=getChecked('corradioy');
	var i;
	if (l1==l2) alert('Select two different lists.');
	else if(listN[l1]*listN[l2]==0) alert('One of your lists is empty.');
	else if (listN[l1]!=listN[l2]) alert('Your lists need to be the same length.');
	else{	
		var sumprod, sumx, sumy, sumx2,r, P, t,i,j,n,m,b;

		n=listN[l1];
		sumx=listSum[l1];
		sumy=listSum[l2];
		sumprod=0;
		sumx2=0;
		for (i=0;i<n;i++){
			sumprod+=list[l1][i]*list[l2][i];
			sumx2+=list[l1][i]*list[l1][i];
			}
		m=(n*sumprod-sumx*sumy)/(n*sumx2-sumx*sumx);
		b=(sumy*sumx2-sumx*sumprod)/(n*sumx2-sumx*sumx);

		r=m*listS[l1]/listS[l2];
		t=r/Math.sqrt((1-r*r)/(n-2));
		P=2*(1-tcdf(Math.abs(t),n-2));
		
		coranswer.innerHTML='y=mx+b<br>m='+m.TOFIXED(printPrecision)+'<br>b='+b.TOFIXED(printPrecision)+'<br>t='+t.TOFIXED(printPrecision)+'<br>P='+P.TOFIXED(printPrecision)+'<br>r='+r.TOFIXED(printPrecision);
//	var l1=-1, l2=-1;
	var D=40;

	{
		var xlist=l1;
		var ylist=l2;
		var can=corcanvas;
		var ctx=can.getContext('2d');
		var w=can.width;
		var h=can.height;
		var xmin=listMin[xlist];
		var xmax=listMax[xlist];
		var ymin=listMin[ylist];
		var ymax=listMax[ylist];
		var n = listN[xlist];
		var W=w-2*D;
		var H=h-2*D;
		var wx=xmax-xmin;
		var wy=ymax-ymin;

		ctx.strokeStyle='black';
		ctx.fillStyle='white';
		ctx.lineWidth=1;
		ctx.fillRect(0,0,w,h);
		ctx.beginPath();
		ctx.rect(0,0,w,h);
		ctx.rect(D,D,W,H);
		ctx.stroke();
		for (i=0;i<n;i++){
			ctx.beginPath();
			ctx.arc(D+W*(list[xlist][i]-xmin)/wx, h-(D+H*(list[ylist][i]-ymin)/wy), 1,0,2*Math.PI);
			ctx.stroke();
		}
		ctx.font='12px Helvetica';
		ctx.fillStyle='black';
		var dx=(xmax-xmin)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6+W*(j*dx)/wx, h-D+6); 
			ctx.rotate(PI/2);
			ctx.fillText((xmin+j*dx).TOFIXED(2),0,0);
			ctx.restore();
		}		
		var dy=(ymax-ymin)/10;
		for (j=0;j<11;j++){
			ctx.save();
			ctx.translate(D-6,h-(D-6+H*(j*dy)/wy)); 
			ctx.textAlign='end';
			ctx.fillText((xmin+j*dy).TOFIXED(2),0,0);
			ctx.restore();
		}		
		ctx.strokeStyle='red';
		ctx.beginPath()
		var y1=m*xmin+b;
		var y2=m*xmax+b;
//ctx.arc(D+W*(list[xlist][i]-xmin)/wx, h-(D+H*(list[ylist][i]-ymin)/wy), 1,0,2*Math.PI);		
		ctx.moveTo(D+W*(xmin-xmin)/wx, h-(D+H*(y1-ymin)/wy));
		ctx.lineTo(D+W*(xmax-xmin)/wx, h-(D+H*(y2-ymin)/wy));
		ctx.stroke();
	}	
		
		coranswerDiv.style.display='block';
	}
}
catch(err){
	alert('Input Error.');
}		
}

</script>
	</div>

<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='gofDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,contingencyDiv,correlationDiv'>Goodness of Fit</button></li>

	<div id='gofDiv' class='expandable'>
	<table>
	<tr><td>Observed:</td>
	<td><script>printRadioList('chi1');</script></td></tr>
	<tr><td>Expected:</td>
	<td><script>printRadioList('chi2');</script></td></tr>
	</table>
<button onclick='CalculateChiSquared();'>Calculate</button>
<div id='chianswer' class='answerDiv'></div>

	</div>
<script>
function CalculateChiSquared(){
try{
	var i=getChecked('chi1');
	var j=getChecked('chi2');;
	var k,chi2,P;
	var notzero=true;
	if (i==j) alert('Select two different lists.');
	else if(listN[i]*listN[j]==0) alert('One of your lists is empty.');
	else if (listN[i]!=listN[j]) alert('Your lists need to be the same length.');
	else{	
		for (k=0;k<listN[j];k++)
			if (list[j][k]==0)
				notzero=false;
		if (!notzero) alert('You cannot have an expected value of 0.');
		else{
			var a=[];
			for (k=0;k<listN[i];k++)
				a[k]=(list[i][k]-list[j][k])*(list[i][k]-list[j][k])/list[j][k];
			var r=summarizeArray(a);
			chi2=r.sum;
			P=1-chi2cdf(chi2,listN[i]-1);
			chianswer.innerHTML='P='+P.TOFIXED(printPrecision)+'<br>&chi;<sup>2</sup>='+chi2.TOFIXED(printPrecision);
			chianswer.style.display='block';
		}
	}
}
catch(err){
	alert('Input Error.');
}		
}
</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='contingencyDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,bootTestDiv,gofDiv,correlationDiv'>Contingency</button></li>

	<div id='contingencyDiv' class='expandable'>
Select the first and last list containing your contingency table:<br>
Lists: <script>
	for (let i=0;i<numLists;i++)
		document.write("<input type='checkbox'  id='conlist"+i+"' onclick='purge(contingencyanswer);'>"+i+"&nbsp;");
</script><br>
<button onclick='CalculateContingency();'>Calculate</button>
<div id='contingencyanswer' class='answerDiv'></div>

	</div>
<script>
function CalculateContingency(){
try{
	var i=0;
	var notempty=true;
	var samelength=true;
	var j=numLists-1;
	var k;
	while ((i<numLists) && !document.getElementById('conlist'+i).checked ) i++;
	while (( j>=0)&&!document.getElementById('conlist'+j).checked ) j--;
	if ((i==numLists) || (j==-1) || (i==j)) alert ('Select a range of lists.')
	else{ 
		for (k=i;k<=j;k++){
			if (listN[k]!=listN[i]) samelength=false;
			if (listN[k]==0) notempty=false;
		}
		if (!notempty) alert('One of your lists is empty.');
		else if (!samelength) alert('Your lists need to be the same length.');
		else{ 
			var r, c, ct, rt, tt,nr,nc,P;
			var x,y,k,i;
			var l0=numLists;

			nr=listN[i];
			var aa=[];
			var a=[];
			var b=[];
			
			nc=j-i+1;
			tt=0;
			for (x=i;x<=j;x++)
				for (y=0;y<nr;y++)
					tt+=list[x][y];
			for (x=0;x<nc;x++)
				for (y=0;y<nr;y++)
					a[x*nr+y]=list[i+x][y]; 
			for (y=0;y<nr;y++){
				rt=0;
				for (k=i;k<=j;k++)
					rt+=list[k][y];
				for (x=0;x<nc;x++){
					ct=listSum[i+x];
					b[x*nr+y]=rt*ct/tt;
					}
				}
			for (k=0;k<nr*nc;k++){
				aa[k]=(a[k]-b[k])*(a[k]-b[k])/b[k];
				}
			var r=summarizeArray(aa);
			chi2=r.sum;

			P=1-chi2cdf(chi2,(nr-1)*(nc-1));
			contingencyanswer.innerHTML='P='+P.TOFIXED(printPrecision)+'<br>&chi;<sup>2</sup>='+chi2.TOFIXED(printPrecision);
			contingencyanswer.style.display='block';
		}
	}
}
catch(err){
	alert('Input Error.');
}	
}

</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
<li><button class='expander' data-open='anovaDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,bootTestDiv,gofDiv,contingencyDiv,correlationDiv'>ANOVA</button> </li>
	<div id='anovaDiv' class='expandable'>
Select at least three lists to include in the test.<br>
Lists: <script>
	for (let i=0;i<numLists;i++)
		document.write("<input type='checkbox'  id='anovalist"+i+"' onclick='purge(anovaanswer);'>"+i+"&nbsp;");
</script><br>
<button onclick='CalculateANOVA();'>Calculate</button>
<div id='anovaanswer' class='answerDiv'></div>

	</div>
	
<script>
function CalculateANOVA(){
try{
	var xbb, k, sstreatment, sserror,N,mstreatment,mserror,F,P;
	var i,j;
	var listempty=false;  
	//k is the number of lists
	k=0;
	for (i=0;i<numLists;i++)
		if (document.getElementById('anovalist'+i).checked) k++; 
	if (k<3)
		alert('Select three or more lists.');
	else{ 
		for (i=0;i<numLists;i++) if (document.getElementById('anovalist'+i).checked && (listN[i]==0)) listempty=true;
		if (listempty)
			alert('One of the lists you have chosen is empty.');
		else{
			xbb=0;
			N=0;
			for (i=0;i<numLists;i++) if (document.getElementById('anovalist'+i).checked){
				N+=listN[i];
				xbb+=listM[i]*listN[i];
				}
			xbb=xbb/N;
			sstreatment=0;
			for (i=0;i<numLists;i++) if (document.getElementById('anovalist'+i).checked)
				sstreatment+=listN[i]*(listM[i]-xbb)*(listM[i]-xbb);
			sserror=0;
			for (i=0;i<numLists;i++) if (document.getElementById('anovalist'+i).checked)
				sserror+=(listN[i]-1)*listS[i]*listS[i];
			mstreatment=sstreatment/(k-1);
			mserror=sserror/(N-k);
			F=mstreatment/mserror;
			P=1-fcdf(F,k-1,N-k);
			anovaanswer.innerHTML='P='+P.TOFIXED(printPrecision)+'<br>F='+F.TOFIXED(printPrecision);
			anovaanswer.style.display='block';
		}
	}
}
catch(err){
	alert('Input Error.');
}		
	}
</script>
<!------------------------------------------------------------------------------------------------------------------------------------>
<!--
<li><button class='expander' data-open='bootTestDiv' data-close='onepropDiv,twopropDiv,onemeanDiv,twomeanDiv,matchedDiv,anovaDiv,gofDiv,contingencyDiv,correlationDiv'>Bootstrap</button></li>
-->

	<div id='bootTestDiv' class='expandable'>
	
	</div>

</ul>
</div> <!-- testsDiv-->
<!--tests------------------------------------------------------------->



</div> <!--content-->
</body>
<script>setupAll();</script>
</html>